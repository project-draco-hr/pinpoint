{
  byte[] agentIDBytes=agentId.getBytes(UTF8);
  byte[] nameBytes=name.getBytes(UTF8);
  byte[] serviceNameBytes=serviceName.getBytes(UTF8);
  byte[] endPointBytes=endPoint.getBytes(UTF8);
  int bufferLength=getBufferLength(agentIDBytes.length,nameBytes.length,serviceNameBytes.length,endPointBytes.length);
  Buffer buffer=new Buffer(bufferLength);
  buffer.put(version);
  buffer.putPrefixedBytes(agentIDBytes);
  buffer.putPrefixedBytes(nameBytes);
  buffer.putPrefixedBytes(serviceNameBytes);
  buffer.put(parentSpanId);
  buffer.put(flag);
  buffer.putPrefixedBytes(endPointBytes);
  buffer.put(terminal);
  return buffer.getBuffer();
}
