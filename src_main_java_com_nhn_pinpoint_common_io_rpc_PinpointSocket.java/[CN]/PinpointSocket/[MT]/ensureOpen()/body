{
  if (state.get() != STATE_RUN) {
    throw new SocketException("already closed");
  }
}
