{
  if (th == null) {
    return;
  }
  final String drop=StringUtils.drop(th.getMessage(),256);
  final int exceptionId=traceContext.cacheString(th.getClass().getName());
  this.currentStackFrame.setExceptionInfo(exceptionId,drop);
  final Span span=getCallStack().getSpan();
  if (!span.isSetErrCode()) {
    span.setErrCode(1);
  }
}
