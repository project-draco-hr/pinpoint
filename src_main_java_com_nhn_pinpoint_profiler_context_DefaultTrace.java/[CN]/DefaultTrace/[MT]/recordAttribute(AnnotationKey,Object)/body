{
  final StackFrame currentStackFrame=this.currentStackFrame;
  if (currentStackFrame instanceof RootStackFrame) {
    Span span=((RootStackFrame)currentStackFrame).getSpan();
    span.addAnnotation(new TraceAnnotation(key,value));
  }
 else {
    SpanEvent spanEvent=((SubStackFrame)currentStackFrame).getSpanEvent();
    spanEvent.addAnnotation(new TraceAnnotation(key,value));
  }
}
