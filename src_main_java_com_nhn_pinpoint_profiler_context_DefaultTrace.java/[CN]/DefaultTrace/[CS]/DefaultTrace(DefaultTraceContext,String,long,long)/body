{
  if (traceContext == null) {
    throw new NullPointerException("traceContext must not be null");
  }
  if (agentId == null) {
    throw new NullPointerException("agentId must not be null");
  }
  this.traceContext=traceContext;
  this.traceId=new DefaultTraceId(agentId,agentStartTime,transactionId);
  final Span span=createSpan(traceId);
  this.callStack=new CallStack(span);
  this.latestStackIndex=this.callStack.push();
  final StackFrame stackFrame=createSpanStackFrame(ROOT_STACKID,callStack.getSpan());
  this.callStack.setStackFrame(stackFrame);
  this.currentStackFrame=stackFrame;
}
