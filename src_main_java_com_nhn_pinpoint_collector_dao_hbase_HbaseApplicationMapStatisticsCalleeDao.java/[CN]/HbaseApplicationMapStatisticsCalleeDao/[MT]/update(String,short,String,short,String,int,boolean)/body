{
  if (calleeApplicationName == null) {
    throw new NullPointerException("calleeApplicationName must not be null");
  }
  if (callerApplicationName == null) {
    throw new NullPointerException("callerApplicationName must not be null");
  }
  if (logger.isDebugEnabled()) {
    logger.debug("[UpdatingApplicationMapStatisticsCallee] {} ({})[{}] -> {} ({})",callerApplicationName,ServiceType.findServiceType(callerServiceType),calleeHost,calleeApplicationName,ServiceType.findServiceType(calleeServiceType));
  }
  if (calleeHost == null) {
    calleeHost="";
  }
  long acceptedTime=acceptedTimeService.getAcceptedTime();
  long rowTimeSlot=TimeSlot.getStatisticsRowSlot(acceptedTime);
  RowKey calleeRowKey=new CallRowKey(calleeApplicationName,calleeServiceType,rowTimeSlot);
  short callerSlotNumber=ApplicationMapStatisticsUtils.getSlotNumber(callerServiceType,elapsed,isError);
  ColumnName callerColumnName=new CallColumnName(callerServiceType,callerApplicationName,calleeHost,callerSlotNumber);
  if (useBulk) {
    RowInfo rowInfo=new DefaultRowInfo(calleeRowKey,callerColumnName);
    this.counter.increment(rowInfo,1L);
  }
 else {
    final byte[] rowKey=calleeRowKey.getRowKey();
    byte[] columnName=callerColumnName.getColumnName();
    increment(rowKey,columnName,1L);
  }
}
