{
  StopWatch watch=new StopWatch();
  watch.start("scanTraceindex");
  Set<TraceId> traceIdList=flow.selectTraceIdsFromApplicationTraceIndex(applicationName,from,to);
  watch.stop();
  logger.info("Fetch traceIdList elapsed : {}ms, {} traces",watch.getLastTaskTimeMillis(),traceIdList.size());
  watch.start("selectServerCallTree");
  ServerCallTree callTree=flow.selectServerCallTree(traceIdList,applicationName,from,to);
  watch.stop();
  logger.info("Fetch calltree time : {}ms",watch.getLastTaskTimeMillis());
  model.addAttribute("nodes",callTree.getNodes());
  model.addAttribute("links",callTree.getLinks());
  logger.debug("callTree:{}",callTree);
  addResponseHeader(response);
  return "servermap";
}
