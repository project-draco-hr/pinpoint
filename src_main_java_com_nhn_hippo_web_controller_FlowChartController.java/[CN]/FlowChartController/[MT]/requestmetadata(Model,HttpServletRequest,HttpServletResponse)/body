{
  String TRACEID="tr";
  String TIME="ti";
  String RESPONSE_TIME="re";
  RequestMetadataQuery query=new RequestMetadataQuery();
  int index=0;
  while (true) {
    String traceId=request.getParameter(TRACEID + index);
    String time=request.getParameter(TIME + index);
    String responseTime=request.getParameter(RESPONSE_TIME + index);
    if (traceId == null || time == null || responseTime == null) {
      break;
    }
    query.addQueryCondition(traceId,Long.parseLong(time),Integer.parseInt(responseTime));
    index++;
  }
  if (query.size() > 0) {
    Map<String,RequestMetadata> metadata=spanService.selectRequestMetadata(query);
    model.addAttribute("metadata",metadata);
  }
  addResponseHeader(response);
  return "requestmetadata";
}
