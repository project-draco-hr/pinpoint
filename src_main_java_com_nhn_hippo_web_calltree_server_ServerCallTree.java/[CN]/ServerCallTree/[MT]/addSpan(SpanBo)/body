{
  Server server=new Server(span.getAgentId(),span.getServiceName(),span.getEndPoint(),span.isTerminal(),span.getRecursiveCallCount());
  if (server.getId() == null) {
    return;
  }
  if (server.getId().contains("mysql:jdbc:") || server.getId().contains("favicon")) {
    return;
  }
  if (!servers.containsKey(server.getId())) {
    servers.put(server.getId(),server);
  }
 else {
    servers.get(server.getId()).mergeWith(server);
  }
  spanIdToServerId.put(String.valueOf(span.getSpanId()),server.getId());
  if (span.getParentSpanId() == -1) {
    businessTransactions.add(span);
  }
 else {
    spans.add(span);
  }
}
