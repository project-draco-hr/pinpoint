{
  if (!isRun()) {
    return;
  }
  logger.debug("write EnableWorkerPacket {}",channel);
  try {
    Map<String,Object> properties=this.pinpointSocketFactory.getProperties();
    byte[] payload=ControlMessageEnDeconderUtils.encode(properties);
    ControlEnableWorkerPacket packet=new ControlEnableWorkerPacket(payload);
    final ChannelFuture write=this.channel.write(packet);
    write.addListener(enableWorkerWriteFailFutureListener);
  }
 catch (  ProtocolException e) {
    logger.warn(e.getMessage(),e);
  }
}
