{
  if (timeout.isCancelled() || timeout.isExpired()) {
    newPingTimeout(this);
    return;
  }
  if (isClosed()) {
    return;
  }
  writePing();
  newPingTimeout(this);
}
