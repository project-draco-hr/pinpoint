{
  if (pinpointSocketFactory == null) {
    throw new NullPointerException("pinpointSocketFactory must not be null");
  }
  HashedWheelTimer timer=new HashedWheelTimer(new PinpointThreadFactory("Pinpoint-SocketHandler-Timer",true),ThreadNameDeterminer.CURRENT,100,TimeUnit.MILLISECONDS,512);
  timer.start();
  this.channelTimer=timer;
  this.pinpointSocketFactory=pinpointSocketFactory;
  this.requestManager=new RequestManager(timer);
  this.streamChannelManager=new StreamChannelManager();
  this.pingDelay=pingDelay;
  this.timeoutMillis=timeoutMillis;
}
