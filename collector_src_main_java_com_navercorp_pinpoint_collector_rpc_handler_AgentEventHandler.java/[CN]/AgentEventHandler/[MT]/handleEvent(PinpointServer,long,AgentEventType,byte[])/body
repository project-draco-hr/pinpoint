{
  if (pinpointServer == null) {
    throw new IllegalArgumentException("pinpointServer cannot be null");
  }
  if (eventType == null) {
    throw new IllegalArgumentException("eventType cannot be null");
  }
  Map<Object,Object> channelProperties=pinpointServer.getChannelProperties();
  final String agentId=MapUtils.getString(channelProperties,AgentHandshakePropertyType.AGENT_ID.getName());
  final long startTimestamp=MapUtils.getLong(channelProperties,AgentHandshakePropertyType.START_TIMESTAMP.getName());
  final AgentEventBo agentEventBo=new AgentEventBo(agentId,startTimestamp,eventTimestamp,eventType);
  if (eventBody == null) {
    agentEventBo.setEventBody(EMPTY_BODY);
  }
 else {
    agentEventBo.setEventBody(eventBody);
  }
  logger.info("handle event - pinpointServer:{}, event:{}",pinpointServer,agentEventBo);
  this.executor.execute(new AgentEventHandlerDispatch(agentEventBo));
}
