{
  logger.info("AgentCheckTimerTask started.");
  try {
    List<AgentInfo> agentInfoList=agentService.getAgentInfoList(applicationName);
    for (    AgentInfo agentInfo : agentInfoList) {
      String agentId=agentInfo.getAgentId();
      if (!defaultAgentIdList.contains(agentId)) {
        responseAggregator.addActiveWorker(agentInfo);
        defaultAgentIdList.add(agentId);
      }
    }
  }
  finally {
    if (timer != null && onAgentCheckTimerTask.get() && !isStopped.get()) {
      timer.newTimeout(this,DEFAULT_AGENT_CHECk_DELAY,TimeUnit.MILLISECONDS);
    }
  }
}
