{
  try {
    Map result=(Map)ControlMessageEnDeconderUtils.decode(payload);
    int code=MapUtils.getInteger(result,ControlHandShakeResponsePacket.CODE,-1);
    int subCode=MapUtils.getInteger(result,ControlHandShakeResponsePacket.SUB_CODE,-1);
    return HandShakeResponseCode.getValue(code,subCode);
  }
 catch (  ProtocolException e) {
    logger.warn(e.getMessage(),e);
  }
  return HandShakeResponseCode.UNKOWN_CODE;
}
