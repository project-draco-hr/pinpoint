{
  try {
    final int currentState=state.getState();
    if (State.CLOSED == currentState) {
      logger.debug("channelClosed() normal. state:{} {}",state.getString(currentState),e.getChannel());
    }
 else     if (State.INIT_RECONNECT == currentState) {
      logger.debug("channelClosed() reconnect fail. state:{} {}",state.getString(currentState),e.getChannel());
    }
 else     if (state.isRun(currentState) || State.RECONNECT == currentState) {
      if (state.isRun(currentState)) {
        logger.debug("change state=reconnect");
        state.setState(State.RECONNECT);
      }
      logger.info("channelClosed() UnexpectedChannelClosed. state:{} try reconnect channel:{}, connectSocketAddress:{}",state.getString(),e.getChannel(),connectSocketAddress);
      this.pinpointSocketFactory.reconnect(this.pinpointSocket,this.connectSocketAddress);
    }
 else {
      logger.info("channelClosed() UnexpectedChannelClosed. state:{} {}",state.getString(currentState),e.getChannel());
    }
    releaseResource();
  }
  finally {
    connectFuture.setResult(Result.FAIL);
  }
}
