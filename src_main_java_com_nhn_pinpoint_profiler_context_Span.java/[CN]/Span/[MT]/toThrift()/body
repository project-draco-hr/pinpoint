{
  final AgentInformation agentInformation=DefaultAgent.getInstance().getAgentInformation();
  this.setAgentId(agentInformation.getAgentId());
  this.setApplicationName(agentInformation.getApplicationName());
  this.setAgentStartTime(agentInformation.getStartTime());
  List<TAnnotation> annotationList=new ArrayList<TAnnotation>(this.annotationList.size());
  for (  Annotation annotation : this.annotationList) {
    annotationList.add(annotation.toThrift());
  }
  this.setAnnotations(annotationList);
  this.annotationList=null;
  final List<TSpanEvent> spanEventList=this.getSpanEventList();
  if (spanEventList != null) {
    for (    TSpanEvent spanEvent : spanEventList) {
      if (spanEvent instanceof SpanEvent) {
        ((SpanEvent)spanEvent).toThrift(true);
      }
    }
  }
  return this;
}
