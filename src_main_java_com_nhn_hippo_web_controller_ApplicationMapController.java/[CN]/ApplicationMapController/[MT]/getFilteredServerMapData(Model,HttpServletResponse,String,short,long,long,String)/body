{
  Set<TraceId> traceIdSet=flow.selectTraceIdsFromApplicationTraceIndex(applicationName,from,to);
  ServerCallTree map=flow.selectServerCallTree(traceIdSet,FilterBuilder.build(filterText));
  model.addAttribute("nodes",map.getNodes());
  model.addAttribute("links",map.getLinks());
  addResponseHeader(response);
  return "applicationmap.filtered";
}
