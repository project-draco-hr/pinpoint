{
  if (logger.isInfoEnabled()) {
    logger.info("Modify {}",className);
  }
  try {
    InstrumentClass target=instrumentor.getInstrumentClass(loader,className,classfileBuffer);
    if (!target.isInterceptable()) {
      return null;
    }
    List<InstrumentMethod> methodList=target.getDeclaredMethods(METHOD_FILTER);
    for (    InstrumentMethod method : methodList) {
      if (logger.isTraceEnabled()) {
        logger.trace("### c={}, m={}, params={}",new Object[]{className,method.getName(),Arrays.toString(method.getParameterTypes())});
      }
      addInterceptor(method);
    }
    return target.toBytecode();
  }
 catch (  Exception e) {
    logger.warn("modify fail. Cause:{}",e.getMessage(),e);
    return null;
  }
}
