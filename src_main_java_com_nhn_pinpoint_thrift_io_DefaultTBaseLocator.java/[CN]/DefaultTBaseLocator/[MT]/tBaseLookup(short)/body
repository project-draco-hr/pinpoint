{
switch (type) {
case SPAN:
    return new TSpan();
case AGENT_INFO:
  return new TAgentInfo();
case AGENT_STAT:
return new TAgentStat();
case SPANCHUNK:
return new TSpanChunk();
case SQLMETADATA:
return new TSqlMetaData();
case APIMETADATA:
return new TApiMetaData();
case RESULT:
return new TResult();
case STRINGMETADATA:
return new TStringMetaData();
case NETWORK_CHECK:
return new NetworkAvailabilityCheckPacket();
case HELLO:
return new THello();
case WELCOME:
return new TWelcome();
case BYE:
return new TBye();
case LEAVE:
return new TLeave();
}
throw new TException("Unsupported type:" + type);
}
