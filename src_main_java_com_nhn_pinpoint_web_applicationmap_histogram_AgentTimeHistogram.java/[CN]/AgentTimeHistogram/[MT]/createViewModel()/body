{
  final List<AgentResponseTimeViewModel> result=new ArrayList<AgentResponseTimeViewModel>();
  for (  Map.Entry<Application,Map<Long,TimeHistogram>> entry : histogramMap.entrySet()) {
    List<TimeHistogram> timeList=sortTimeHistogram(entry.getValue());
    AgentResponseTimeViewModel model=createAgentResponseTimeViewModel(entry.getKey(),timeList);
    result.add(model);
  }
  Collections.sort(result,new Comparator<AgentResponseTimeViewModel>(){
    @Override public int compare(    AgentResponseTimeViewModel o1,    AgentResponseTimeViewModel o2){
      return o1.getAgentName().compareTo(o2.getAgentName());
    }
  }
);
  return result;
}
