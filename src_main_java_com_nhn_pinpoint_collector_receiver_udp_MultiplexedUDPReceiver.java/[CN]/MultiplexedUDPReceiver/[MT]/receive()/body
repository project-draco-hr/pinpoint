{
  if (logger.isInfoEnabled()) {
    logger.info("Waiting agent data on {}",this.socket.getLocalSocketAddress());
  }
  startLatch.countDown();
  while (state.get()) {
    DatagramPacket packet=read0();
    if (packet == null) {
      continue;
    }
    if (logger.isDebugEnabled()) {
      logger.debug("pool getActiveCount:{}",worker.getActiveCount());
    }
    try {
      worker.execute(new DispatchPacket(packet));
    }
 catch (    RejectedExecutionException ree) {
      rejectedExecutionCount++;
      if (rejectedExecutionCount > 1000) {
        logger.warn("RejectedExecutionCount=1000");
        rejectedExecutionCount=0;
      }
    }
  }
}
