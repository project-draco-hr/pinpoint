{
  long cpuUserTime[]=new long[2];
  String currentThreadName=Thread.currentThread().getName();
  String tempRequestID=currentThreadName + "_" + System.nanoTime();
  requestID.set(tempRequestID);
  int tempRequestHashCode=tempRequestID.hashCode();
  requestHashCode.set(tempRequestHashCode);
  RequestThriftDTO dto=new RequestThriftDTO(AgentInfoDTO.staticHostHashCode,tempRequestHashCode,TomcatProfilerConstant.DATA_TYPE_REQUEST,requestTime,cpuUserTime[0],cpuUserTime[1]);
  dto.setClientIP(clientIP);
  dto.setRequestURL(requestURL);
  int paramsLength=params.length();
  if (paramsLength > 0) {
    params.deleteCharAt(paramsLength - 1);
    dto.setExtraData1(params.toString());
  }
  requestSet.add(requestID.get());
  RequestTransactionDataSender sender=new RequestTransactionDataSender(dto);
  sender.send();
}
