{
  if (logger.isInfoEnabled()) {
    logger.info("Modifying. {}",javassistClassName);
  }
  try {
    InstrumentClass ibatisClientImpl=byteCodeInstrumentor.getClass(classLoader,javassistClassName,classFileBuffer);
    final MethodFilter ibatisApiMethodFilter=getIbatisApiMethodFilter(javassistClassName);
    List<InstrumentMethod> declaredMethods=ibatisClientImpl.getDeclaredMethods(ibatisApiMethodFilter);
    for (    InstrumentMethod method : declaredMethods) {
      Interceptor ibatisApiInterceptor=new IbatisSqlMapOperationInterceptor(serviceType);
      ibatisClientImpl.addGroupInterceptor(method.getName(),method.getParameterTypes(),ibatisApiInterceptor,SCOPE);
    }
    byte[] bytes=ibatisClientImpl.toBytecode();
    Files.write(bytes,new File("class.dump"));
    return bytes;
  }
 catch (  Throwable e) {
    this.logger.warn("{} modifier error. Cause:{}",javassistClassName,e.getMessage(),e);
    return null;
  }
}
