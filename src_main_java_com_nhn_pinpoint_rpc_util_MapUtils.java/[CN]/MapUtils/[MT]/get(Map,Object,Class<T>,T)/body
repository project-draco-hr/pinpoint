{
  if (map == null) {
    return defaultValue;
  }
  if (!map.containsKey(key)) {
    return defaultValue;
  }
  Object value=map.get(key);
  if (ClassUtils.isAssignable(value.getClass(),clazz)) {
    return (T)value;
  }
  return null;
}
