{
  final ServerInfo serverInfo=this.serverInfo;
  String ip=serverInfo.getHostip();
  String ports="";
  for (  Entry<Integer,String> entry : serverInfo.getConnectors().entrySet()) {
    ports+=" " + entry.getKey();
  }
  AgentInfo agentInfo=new AgentInfo();
  agentInfo.setIp(ip);
  agentInfo.setHostname(this.machineName);
  agentInfo.setPorts(ports);
  agentInfo.setApplicationName(getApplicationName());
  agentInfo.setAgentId(getAgentId());
  agentInfo.setPid(this.pid);
  agentInfo.setServiceType(profilerConfig.getServiceType().getCode());
  agentInfo.setIsAlive(true);
  agentInfo.setTimestamp(this.startTime);
  return agentInfo;
}
