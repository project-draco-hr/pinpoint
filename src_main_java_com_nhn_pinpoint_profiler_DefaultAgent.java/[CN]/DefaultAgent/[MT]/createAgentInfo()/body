{
  final ServerInfo serverInfo=this.serverInfo;
  String ip=serverInfo.getHostip();
  String ports="";
  for (  Entry<Integer,String> entry : serverInfo.getConnectors().entrySet()) {
    ports+=" " + entry.getKey();
  }
  final AgentInfo agentInfo=new AgentInfo();
  final AgentInformation agentInformation=this.agentInformation;
  agentInfo.setIp(ip);
  agentInfo.setHostname(this.agentInformation.getMachineName());
  agentInfo.setPorts(ports);
  agentInfo.setAgentId(agentInfo.getAgentId());
  agentInfo.setApplicationName(agentInfo.getApplicationName());
  agentInfo.setPid(agentInformation.getPid());
  agentInfo.setTimestamp(agentInformation.getStartTime());
  agentInfo.setServiceType(profilerConfig.getServiceType().getCode());
  agentInfo.setIsAlive(true);
  return agentInfo;
}
