{
  StopWatch watch=new StopWatch();
  watch.start("agentStatService.selectAgentStatList");
  TimeWindow timeWindow=new TimeWindow(new Range(from,to),new TimeWindowSlotCentricSampler());
  long scanFrom=timeWindow.getWindowRange().getFrom();
  long scanTo=timeWindow.getWindowRange().getTo() + timeWindow.getWindowSlotSize();
  Range rangeToScan=new Range(scanFrom,scanTo);
  List<AgentStat> agentStatList=agentStatService.selectAgentStatList(agentId,rangeToScan);
  watch.stop();
  if (logger.isInfoEnabled()) {
    logger.info("getAgentStat(agentId={}, from={}, to={}) : {}ms",agentId,from,to,watch.getLastTaskTimeMillis());
  }
  AgentStatChartGroup chartGroup=new AgentStatChartGroup(timeWindow);
  chartGroup.addAgentStats(agentStatList);
  chartGroup.buildCharts();
  return chartGroup;
}
