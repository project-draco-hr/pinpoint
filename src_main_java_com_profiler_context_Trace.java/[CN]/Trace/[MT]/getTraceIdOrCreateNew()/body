{
  TraceIDStack stack=traceIdLocal.get();
  TraceID id=null;
  if (stack != null) {
    id=stack.getTraceId();
  }
  if (id == null) {
    id=TraceID.newTraceId();
    if (logger.isLoggable(Level.INFO)) {
      logger.info("create new traceid:" + id);
    }
    if (stack == null) {
      traceIdLocal.set(new TraceIDStack());
    }
    traceIdLocal.get().setTraceId(id);
    return id;
  }
  return id;
}
