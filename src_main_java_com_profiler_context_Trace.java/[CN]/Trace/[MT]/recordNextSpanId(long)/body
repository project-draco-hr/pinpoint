{
  if (!tracingEnabled)   return;
  try {
    StackFrame currentStackFrame=getCurrentStackFrame();
    if (currentStackFrame instanceof RootStackFrame) {
      logger.log(Level.WARNING,"OMG. Something's going wrong. Current stackframe is root Span. nextSpanId={}",spanId);
    }
 else {
      SubSpan span=((SubStackFrame)currentStackFrame).getSubSpan();
      span.setNextSpanId(spanId);
    }
  }
 catch (  Exception e) {
    logger.log(Level.SEVERE,e.getMessage(),e);
  }
}
