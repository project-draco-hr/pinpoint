{
  final NetworkAvailabilityCheckPacket dto=new NetworkAvailabilityCheckPacket();
  try {
    final byte[] interBufferData=serialize(serializer,dto);
    final int interBufferSize=serializer.getInterBufferSize();
    reusePacket.setData(interBufferData,0,interBufferSize);
    udpSocket.send(reusePacket);
    if (logger.isInfoEnabled()) {
      logger.info("Data sent. {}",dto);
    }
    final byte[] receiveData=new byte[NetworkAvailabilityCheckPacket.DATA_OK.length];
    final DatagramPacket receivePacket=new DatagramPacket(receiveData,receiveData.length);
    udpSocket.receive(receivePacket);
    if (logger.isInfoEnabled()) {
      logger.info("Data received. {}",Arrays.toString(receivePacket.getData()));
    }
    return Arrays.equals(NetworkAvailabilityCheckPacket.DATA_OK,receiveData);
  }
 catch (  IOException e) {
    logger.warn("packet send error {}",dto,e);
    return false;
  }
}
