{
  checkBeforeTraceObject();
  final DefaultTrace trace=new DefaultTrace(traceContext,traceId);
  trace.getCallStack().getSpan().setStartTime(startTime);
  traceId.incrementTraceCount();
  final Storage storage=storagePool.getStorage(traceId);
  trace.setStorage(new AsyncStorage(storage));
  trace.setSampling(true);
  final AsyncTrace asyncTrace=new AsyncTrace(trace);
  asyncTrace.setAsyncId(asyncId);
  threadLocal.set(asyncTrace);
  return asyncTrace;
}
