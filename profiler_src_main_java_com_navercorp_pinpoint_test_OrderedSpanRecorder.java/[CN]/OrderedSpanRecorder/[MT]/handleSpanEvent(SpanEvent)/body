{
  long spanId=event.getSpan().getSpanId();
  Long spanStartTime=spanStartTimeTable.get(spanId);
  if (spanStartTime != null) {
    insertItem(new Item(event,spanStartTime + event.getStartElapsed(),spanId,event.getSequence()));
    return;
  }
  List<SpanEvent> events=waitingEventTable.get(spanId);
  if (events == null) {
    events=new ArrayList<SpanEvent>();
    waitingEventTable.put(spanId,events);
  }
  insertSpanEvent(events,event,SPAN_EVENT_COMPARATOR);
}
