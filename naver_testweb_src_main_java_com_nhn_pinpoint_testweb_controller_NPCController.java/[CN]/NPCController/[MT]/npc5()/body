{
  NpcHessianConnector connector=null;
  try {
    InetSocketAddress serverAddress=new InetSocketAddress("127.0.0.1",5000);
    ConnectionFactory npcConnectionFactory=new NpcConnectionFactory();
    npcConnectionFactory.setTimeout(1000L);
    npcConnectionFactory.setAddress(serverAddress);
    npcConnectionFactory.setLightWeight(true);
    connector=npcConnectionFactory.create();
    Map<String,Object> params=new HashMap<String,Object>();
    params.put("message","hello pinpoint");
    InvocationFuture future=connector.invoke("welcome/com.nhncorp.lucy.bloc.welcome.EchoBO","execute",params);
    future.addListener(new InvocationFutureListener(){
      @Override public void invocationComplete(      InvocationFuture future) throws Exception {
        Object result=future.getReturnValue();
        logger.debug("npc result={}",result);
      }
    }
);
  }
  finally {
    if (connector != null) {
      connector.dispose();
    }
  }
  return "OK";
}
