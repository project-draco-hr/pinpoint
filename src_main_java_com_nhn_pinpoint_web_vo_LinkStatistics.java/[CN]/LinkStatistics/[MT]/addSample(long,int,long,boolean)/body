{
  logger.info("Add sample. timeslot=" + timestamp + ", responseTimeslot="+ responseTimeslot+ ", callCount="+ callCount+ ", failed="+ failed);
  timestamp=refineTimestamp(timestamp);
  if (failed) {
    failedCount+=callCount;
  }
 else {
    successCount+=callCount;
  }
  if (responseTimeslot == -1) {
    responseTimeslot=SLOT_ERROR;
  }
 else   if (responseTimeslot == 0) {
    responseTimeslot=SLOT_SLOW;
  }
  long value=histogramSummary.containsKey(responseTimeslot) ? histogramSummary.get(responseTimeslot) + callCount : callCount;
  histogramSummary.put(responseTimeslot,value);
  for (int i=0; i < timeseriesValueList.size(); i++) {
    SortedMap<Long,Long> map=timeseriesValueList.get(i);
    if (i == timeseriesSlotIndex.get(responseTimeslot)) {
      long v=map.containsKey(timestamp) ? map.get(timestamp) + callCount : callCount;
      map.put(timestamp,v);
    }
 else {
      if (!map.containsKey(timestamp)) {
        map.put(timestamp,0L);
      }
    }
  }
}
