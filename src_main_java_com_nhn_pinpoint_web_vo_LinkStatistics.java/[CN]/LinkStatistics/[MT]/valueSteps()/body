{
  long diff=(to - from);
  long step;
  long SIX_HOURS=6 * 24 * 60* 1000;
  long ONE_DAY=24 * 24 * 60* 1000;
  if (diff < SIX_HOURS) {
    step=5 * 60 * 1000L;
  }
 else   if (diff < ONE_DAY) {
    step=10 * 60 * 1000L;
  }
 else   if (diff < ONE_DAY * 2) {
    step=15 * 60 * 1000L;
  }
 else {
    step=20 * 60 * 1000L;
  }
  logger.debug("step=" + step);
  return step;
}
