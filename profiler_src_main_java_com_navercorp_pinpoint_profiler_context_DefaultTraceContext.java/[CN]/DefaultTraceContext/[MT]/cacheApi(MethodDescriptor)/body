{
  final String fullName=methodDescriptor.getFullName();
  final Result result=this.apiCache.put(fullName);
  if (result.isNewValue()) {
    methodDescriptor.setApiId(result.getId());
    final TApiMetaData apiMetadata=new TApiMetaData();
    apiMetadata.setAgentId(getAgentId());
    apiMetadata.setAgentStartTime(getAgentStartTime());
    apiMetadata.setApiId(result.getId());
    apiMetadata.setApiInfo(methodDescriptor.getApiDescriptor());
    apiMetadata.setLine(methodDescriptor.getLineNumber());
    this.priorityDataSender.request(apiMetadata);
  }
  return result.getId();
}
