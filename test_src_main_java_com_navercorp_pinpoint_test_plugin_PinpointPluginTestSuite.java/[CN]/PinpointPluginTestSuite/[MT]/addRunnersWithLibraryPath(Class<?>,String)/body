{
  File file=new File(libraryPath);
  for (  File child : file.listFiles()) {
    if (!child.isDirectory()) {
      continue;
    }
    List<String> libraries=new ArrayList<String>();
    if (librarySubDirs.length == 0) {
      addJars(child,libraries);
      libraries.add(child.getAbsolutePath());
    }
 else {
      for (      String subDir : librarySubDirs) {
        File libDir=new File(child,subDir);
        addJars(libDir,libraries);
        libraries.add(libDir.getAbsolutePath());
      }
    }
    libraries.add(testClassLocation);
    addRunner(testClass,child.getName(),libraries);
  }
}
