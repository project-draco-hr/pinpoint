{
  final HttpServletRequest request=(HttpServletRequest)args[0];
  trace.markBeforeTime();
  if (trace.canSampled()) {
    trace.recordServiceType(ServiceType.TOMCAT);
    final String requestURL=request.getRequestURI();
    trace.recordRpcName(requestURL);
    final int port=request.getServerPort();
    final String endPoint=request.getServerName() + ":" + port;
    trace.recordEndPoint(endPoint);
    final String remoteAddr=request.getRemoteAddr();
    trace.recordRemoteAddress(remoteAddr);
  }
  if (!trace.isRoot()) {
    recordParentInfo(trace,request);
  }
}
