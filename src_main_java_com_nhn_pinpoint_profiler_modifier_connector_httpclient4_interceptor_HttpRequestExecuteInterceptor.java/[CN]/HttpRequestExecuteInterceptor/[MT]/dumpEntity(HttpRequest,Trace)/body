{
  if (request instanceof HttpEntityEnclosingRequestBase) {
    HttpEntityEnclosingRequestBase entityRequest=(HttpEntityEnclosingRequestBase)request;
    try {
      final HttpEntity entity=entityRequest.getEntity();
      if (entity != null && entity.isRepeatable()) {
        if (entitySampler.isSampling()) {
          String entityString=EntityUtils.toString(entityRequest.getEntity(),"UTF8");
          trace.recordAttribute(AnnotationKey.HTTP_PARAM_ENTITY,StringUtils.drop(entityString,1024));
        }
      }
    }
 catch (    IOException e) {
      trace.recordAttribute(AnnotationKey.HTTP_PARAM_ENTITY,StringUtils.drop("DumpError:" + e.getMessage(),1024));
    }
  }
}
