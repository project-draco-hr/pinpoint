{
  if (buffer.readableBytes() < 8) {
    buffer.resetReaderIndex();
    return null;
  }
  int messageIdIndex=buffer.readerIndex();
  buffer.skipBytes(4);
  ChannelBuffer payload=PayloadPacket.readPayload(buffer);
  if (payload == null) {
    return null;
  }
  int messageId=buffer.getInt(messageIdIndex);
  RequestPacket requestPacket=new RequestPacket(payload.array());
  requestPacket.setRequestId(messageId);
  return requestPacket;
}
