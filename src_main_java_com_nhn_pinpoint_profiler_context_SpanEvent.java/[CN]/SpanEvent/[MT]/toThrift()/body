{
  final TAgentKey tAgentKey=DefaultAgent.getInstance().getTAgentKey();
  this.setAgentKey(tAgentKey);
  this.setParentServiceType(span.getServiceType());
  this.setParentEndPoint(span.getEndPoint());
  final String traceAgentId=span.getTraceAgentId();
  if (!tAgentKey.getAgentId().equals(traceAgentId)) {
    this.setTraceAgentId(traceAgentId);
  }
  this.setTraceAgentStartTime(span.getTraceAgentStartTime());
  this.setTraceTransactionSequence(span.getTraceTransactionSequence());
  this.setSpanId(span.getSpanId());
  return this;
}
