{
  ServerCallTree serverCallTree=new ServerCallTree(new AgentIdNodeSelector());
  serverCallTree.addSpanList(transaction);
  for (  SpanBo span : transaction) {
    if (!span.isRoot()) {
      continue;
    }
    ClientStatistics stat=new ClientStatistics(span.getApplicationId(),span.getServiceType().getCode());
    stat.getHistogram().addSample(span.getElapsed());
    serverCallTree.addClientStatistics(stat);
  }
  return serverCallTree;
}
