{
  if (StringUtils.isEmpty(filterText)) {
    return Filter.NONE;
  }
  logger.debug("build filter from string. {}",filterText);
  try {
    filterText=URLDecoder.decode(filterText,"UTF-8");
  }
 catch (  Exception e) {
    throw new IllegalArgumentException(e);
  }
  if (filterText.startsWith("[")) {
    return makeFilterFromJson(filterText);
  }
 else {
    final String[] parsedFilterString=FILTER_DELIMETER.split(filterText);
    if (parsedFilterString.length == 1) {
      return makeSingleFilter(parsedFilterString[0]);
    }
 else {
      return makeChainedFilter(parsedFilterString);
    }
  }
}
