{
  if (StringUtils.isEmpty(filterText)) {
    return Filter.NONE;
  }
  try {
    filterText=URLDecoder.decode(filterText,"UTF-8");
    logger.debug("build filter from string. {}",filterText);
  }
 catch (  Exception e) {
    throw new IllegalArgumentException("invalid filter text. " + filterText);
  }
  if (!StringUtils.isEmpty(filterHint)) {
    try {
      filterHint=URLDecoder.decode(filterHint,"UTF-8");
      logger.debug("build filter hint from string. {}",filterHint);
    }
 catch (    Exception e) {
      throw new IllegalArgumentException("invalid filter hint. " + filterHint);
    }
  }
 else {
    filterHint=FilterHint.EMPTY_JSON;
  }
  return makeFilterFromJson(filterText,filterHint);
}
