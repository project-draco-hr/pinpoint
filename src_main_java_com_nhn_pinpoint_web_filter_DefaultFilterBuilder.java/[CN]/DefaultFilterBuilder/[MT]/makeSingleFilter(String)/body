{
  if (filterText == null) {
    throw new NullPointerException("filterText must not be null");
  }
  logger.debug("make filter from string. {}",filterText);
  final String[] element=FILTER_ENTRY_DELIMETER.split(filterText);
  final String requiredFilterId=element[0];
  if (FromToFilter.ID.equals(requiredFilterId)) {
    if (element.length == 5) {
      return new FromToFilter(element[1],element[2],element[3],element[4]);
    }
  }
 else   if (FromToFilter.ID.equals(requiredFilterId)) {
    if (element.length == 6) {
      return new FromToResponseFilter(element[1],element[2],element[3],element[4],element[5]);
    }
  }
 else   if (FromToFilter.ID.equals(requiredFilterId)) {
    if (element.length == 6) {
      return new URLPatternFilter(element[1],element[2],element[3],element[4],element[5]);
    }
  }
 else {
    if (element.length == 4) {
      return new FromToFilter(element[0],element[1],element[2],element[3]);
    }
 else     if (element.length == 5) {
      return new FromToResponseFilter(element[0],element[1],element[2],element[3],element[4]);
    }
    throw new IllegalArgumentException("Invalid filterId:" + requiredFilterId);
  }
  throw new IllegalArgumentException("Invalid filterText:" + filterText);
}
