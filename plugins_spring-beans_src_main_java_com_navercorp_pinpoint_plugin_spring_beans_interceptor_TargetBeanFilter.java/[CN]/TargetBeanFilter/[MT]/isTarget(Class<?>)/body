{
  if (rejected.contains(clazz)) {
    return false;
  }
  if (targetAnnotationNames != null) {
    for (    Annotation a : clazz.getAnnotations()) {
      if (targetAnnotationNames.contains(a.annotationType().getName())) {
        return true;
      }
    }
    for (    Annotation a : clazz.getAnnotations()) {
      for (      Annotation ac : a.annotationType().getAnnotations()) {
        if (targetAnnotationNames.contains(ac.annotationType().getName())) {
          return true;
        }
      }
    }
  }
  if (targetClassPatterns != null) {
    String className=clazz.getName();
    for (    Pattern pattern : targetClassPatterns) {
      if (pattern.matcher(className).matches()) {
        return true;
      }
    }
  }
  rejected.put(clazz);
  return false;
}
