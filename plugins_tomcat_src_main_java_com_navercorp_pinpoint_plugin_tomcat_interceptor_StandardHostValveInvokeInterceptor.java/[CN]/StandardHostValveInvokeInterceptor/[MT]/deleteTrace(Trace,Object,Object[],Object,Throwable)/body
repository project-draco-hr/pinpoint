{
  trace.traceBlockEnd();
  final Request request=(Request)args[0];
  if (!isAsynchronousProcess(request)) {
    RootCallStackFrame recorder=trace.rootCallStackFrame();
    recorder.markAfterTime();
    trace.close();
    getTraceContext().removeTraceObject();
    setTraceMetadata(request,null);
  }
}
