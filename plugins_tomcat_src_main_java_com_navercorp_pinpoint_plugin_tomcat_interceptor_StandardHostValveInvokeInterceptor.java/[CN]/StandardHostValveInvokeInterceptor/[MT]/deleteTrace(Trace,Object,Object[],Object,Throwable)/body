{
  trace.popCallStackFrame();
  final Request request=(Request)args[0];
  if (!isAsynchronousProcess(request)) {
    TraceHeader recorder=trace.getTraceHeader();
    recorder.markAfterTime();
    trace.close();
    getTraceContext().removeTraceObject();
    setTraceMetadata(request,null);
  }
}
