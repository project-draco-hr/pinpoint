{
  if (buffer.readableBytes() < 2) {
    return null;
  }
  buffer.markReaderIndex();
  final short packetType=buffer.readShort();
switch (packetType) {
case PacketHeader.APPLICATION_SEND:
    return readSend(packetType,buffer);
case PacketHeader.APPLICATION_REQUEST:
  return readRequest(packetType,buffer);
case PacketHeader.APPLICATION_RESPONSE:
return readResponse(packetType,buffer);
}
logger.error("invalid packetType received. packetType:{}, connection:{}",packetType,channel.getRemoteAddress());
return null;
}
