{
  HashedWheelTimer timer=getTimer();
  RequestManager requestManager=new RequestManager(timer);
  try {
    RequestPacket packet=new RequestPacket(new byte[0]);
    Future future=requestManager.register(packet,50);
    Thread.sleep(200);
    Assert.assertTrue(future.isReady());
    Assert.assertFalse(future.isSuccess());
    Assert.assertTrue(future.getCause().getMessage().contains("timeout"));
    logger.debug(future.getCause().getMessage());
  }
  finally {
    requestManager.close();
    timer.stop();
  }
}
