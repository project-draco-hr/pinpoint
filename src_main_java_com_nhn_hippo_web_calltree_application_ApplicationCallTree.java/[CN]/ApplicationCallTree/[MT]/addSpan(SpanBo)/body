{
  Application app=new Application(span.getAgentId(),span.getServiceName(),span.getEndPoint(),span.isTerminal());
  if (app.getId() == null) {
    return;
  }
  if (!applications.containsKey(app.getId())) {
    applications.put(app.getId(),app);
  }
  spanIdToApplication.put(String.valueOf(span.getSpanId()),app.getId());
  if (span.getParentSpanId() == -1) {
    businessTransactions.add(span);
  }
 else {
    spans.add(span);
  }
}
