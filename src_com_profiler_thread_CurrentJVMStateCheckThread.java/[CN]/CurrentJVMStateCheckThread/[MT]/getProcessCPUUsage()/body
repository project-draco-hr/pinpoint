{
  try {
    if (processCPUAvailable) {
      OperatingSystemMXBean sunOSMBean=ManagementFactory.newPlatformMXBeanProxy(ManagementFactory.getPlatformMBeanServer(),ManagementFactory.OPERATING_SYSTEM_MXBEAN_NAME,OperatingSystemMXBean.class);
      long cpuTime=sunOSMBean.getProcessCpuTime();
      if (processorCount == -1) {
        processorCount=sunOSMBean.getAvailableProcessors();
      }
      if (previousCpuTime != 0) {
        long usedCPUTotal=(cpuTime - previousCpuTime) / 1000000;
        double usedCPU=(0.1D * usedCPUTotal) / (processorCount * JVM_STAT_GAP / 1000.0);
        currentDto.setProcessCPUTime(usedCPU);
      }
      previousCpuTime=cpuTime;
    }
  }
 catch (  Exception e) {
    processCPUAvailable=false;
  }
}
