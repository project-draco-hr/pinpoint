{
  InterceptorGroupInvocation transaction=new DefaultInterceptorGroupInvocation("test");
  assertFalse(transaction.isActive());
  assertFalse(transaction.tryEnter(ExecutionPolicy.INTERNAL));
  assertFalse(transaction.isActive());
  assertTrue(transaction.tryEnter(ExecutionPolicy.BOUNDARY));
  assertTrue(transaction.isActive());
  assertTrue(transaction.tryEnter(ExecutionPolicy.INTERNAL));
  assertTrue(transaction.isActive());
  assertFalse(transaction.tryEnter(ExecutionPolicy.BOUNDARY));
  assertTrue(transaction.isActive());
  assertFalse(transaction.canLeave(ExecutionPolicy.BOUNDARY));
  assertTrue(transaction.isActive());
  assertTrue(transaction.canLeave(ExecutionPolicy.INTERNAL));
  transaction.leave(ExecutionPolicy.INTERNAL);
  assertTrue(transaction.isActive());
  assertTrue(transaction.canLeave(ExecutionPolicy.BOUNDARY));
  assertTrue(transaction.isActive());
  transaction.leave(ExecutionPolicy.BOUNDARY);
  assertFalse(transaction.isActive());
  assertFalse(transaction.canLeave(ExecutionPolicy.INTERNAL));
  assertFalse(transaction.isActive());
}
