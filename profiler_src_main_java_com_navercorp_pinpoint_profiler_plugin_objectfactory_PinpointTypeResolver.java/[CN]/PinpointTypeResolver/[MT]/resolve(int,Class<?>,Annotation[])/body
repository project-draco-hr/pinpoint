{
  if (type == Trace.class) {
    return Option.<Object>withValue(pluginContext.getTraceContext().currentTraceObject());
  }
 else   if (type == TraceContext.class) {
    return Option.<Object>withValue(pluginContext.getTraceContext());
  }
 else   if (type == ProfilerPluginContext.class) {
    return Option.<Object>withValue(pluginContext);
  }
 else   if (type == ByteCodeInstrumentor.class) {
    return Option.<Object>withValue(pluginContext.getByteCodeInstrumentor());
  }
 else   if (type == InstrumentClass.class) {
    return Option.<Object>withValue(targetClass);
  }
 else   if (type == MethodDescriptor.class) {
    MethodDescriptor descriptor=targetMethod.getDescriptor();
    cacheApiIfAnnotationPresent(annotations,descriptor);
    return Option.<Object>withValue(descriptor);
  }
 else   if (type == MethodInfo.class) {
    cacheApiIfAnnotationPresent(annotations,targetMethod.getDescriptor());
    return Option.<Object>withValue(targetMethod);
  }
 else   if (type == MetadataAccessor.class) {
    Name annotation=TypeUtils.findAnnotation(annotations,Name.class);
    if (annotation == null) {
      throw new PinpointException("MetadataAccessor parameter must be annotated with @Name");
    }
    MetadataAccessor accessor=pluginContext.getMetadataAccessor(annotation.value());
    if (accessor == null) {
      throw new PinpointException("No such MetadataAccessor: " + annotation.value());
    }
    return Option.<Object>withValue(accessor);
  }
 else   if (type == FieldAccessor.class) {
    Name annotation=TypeUtils.findAnnotation(annotations,Name.class);
    if (annotation == null) {
      throw new PinpointException("FieldAccessor parameter must be annotated with @Name");
    }
    FieldAccessor accessor=pluginContext.getFieldAccessor(annotation.value());
    if (accessor == null) {
      throw new PinpointException("No such FieldAccessor: " + annotation.value());
    }
    return Option.<Object>withValue(accessor);
  }
 else   if (type == InterceptorGroup.class) {
    Name annotation=TypeUtils.findAnnotation(annotations,Name.class);
    if (annotation == null) {
      if (interceptorGroup == null) {
        throw new PinpointException("Group parameter is not annotated with @Name and the target class is not associated with any Group");
      }
 else {
        return Option.<Object>withValue(interceptorGroup);
      }
    }
    InterceptorGroup group=pluginContext.getInterceptorGroup(annotation.value());
    if (group == null) {
      throw new PinpointException("No such Group: " + annotation.value());
    }
    return Option.<Object>withValue(group);
  }
  return Option.<Object>empty();
}
