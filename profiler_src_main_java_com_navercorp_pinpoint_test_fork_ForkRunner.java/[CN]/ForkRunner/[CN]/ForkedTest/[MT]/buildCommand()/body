{
  List<String> list=new ArrayList<String>();
  list.add(getJavaExecutable());
  list.add("-cp");
  list.add(getClassPath());
  list.add(getAgent());
  list.add("-Dpinpoint.agentId=build.test.0");
  list.add("-Dpinpoint.applicationName=test");
  list.add("-Dfile.encoding=" + DEFAULT_ENCODING);
  for (  String arg : jvmArguments) {
    list.add(arg);
  }
  if (isDebugMode()) {
    list.addAll(getDebugOptions());
  }
  if (configFile != null) {
    list.add("-Dpinpoint.config=" + resolveConfigFileLocation());
  }
  list.add(ForkedJUnit.class.getName());
  if (testOnChildClassLoader) {
    list.add(getChildClassPath());
  }
  list.add(getTestClass().getName());
  return list.toArray(new String[list.size()]);
}
