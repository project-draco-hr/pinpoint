{
  if (type == Trace.class) {
    return Option.withValue(pluginContext.getTraceContext().currentTraceObject());
  }
 else   if (type == TraceContext.class) {
    return Option.withValue(pluginContext.getTraceContext());
  }
 else   if (type == PinpointInstrument.class) {
    return Option.withValue(pluginContext);
  }
 else   if (type == MetadataAccessor.class) {
    Name annotation=TypeUtils.findAnnotation(annotations,Name.class);
    if (annotation == null) {
      throw new PinpointException("MetadataAccessor parameter must be annotated with @Name");
    }
    MetadataAccessor accessor=pluginContext.getMetadataAccessor(annotation.value());
    if (accessor == null) {
      throw new PinpointException("No such MetadataAccessor: " + annotation.value());
    }
    return Option.withValue(accessor);
  }
 else   if (type == FieldAccessor.class) {
    Name annotation=TypeUtils.findAnnotation(annotations,Name.class);
    if (annotation == null) {
      throw new PinpointException("FieldAccessor parameter must be annotated with @Name");
    }
    FieldAccessor accessor=pluginContext.getFieldAccessor(annotation.value());
    if (accessor == null) {
      throw new PinpointException("No such FieldAccessor: " + annotation.value());
    }
    return Option.withValue(accessor);
  }
 else   if (type == InterceptorGroup.class) {
    Name annotation=TypeUtils.findAnnotation(annotations,Name.class);
    if (annotation == null) {
      return Option.empty();
    }
    InterceptorGroup group=pluginContext.getInterceptorGroup(annotation.value());
    if (group == null) {
      throw new PinpointException("No such Group: " + annotation.value());
    }
    return Option.withValue(group);
  }
  return Option.empty();
}
