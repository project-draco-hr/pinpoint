{
  List<SpanEvent> spanEventList;
synchronized (this) {
    spanEventList=storage;
    this.storage=new ArrayList<SpanEvent>(bufferSize);
  }
  if (spanEventList != null && !spanEventList.isEmpty()) {
    span.setSpanEventList((List)spanEventList);
  }
  dataSender.send(span);
  if (isDebug) {
    logger.debug("flush span {}",span);
  }
}
