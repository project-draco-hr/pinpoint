{
  final Api api=new Api();
  final AnnotationBo annotation=AnnotationUtils.findAnnotationBo(align.getAnnotationBoList(),AnnotationKey.API_METADATA);
  if (annotation != null) {
    final ApiMetaDataBo apiMetaData=(ApiMetaDataBo)annotation.getValue();
    api.title=api.description=getApiInfo(apiMetaData);
    if (apiMetaData.getType() == 0) {
      try {
        ApiDescription apiDescription=apiDescriptionParser.parse(api.description);
        api.title=apiDescription.getSimpleMethodDescription();
        api.className=apiDescription.getSimpleClassName();
      }
 catch (      Exception e) {
        logger.warn("Failed to api parse. {}",api.description,e);
      }
    }
    api.type=apiMetaData.getType();
  }
 else {
    AnnotationKey apiMetaDataError=getApiMetaDataError(align.getAnnotationBoList());
    api.title=apiMetaDataError.getName();
  }
  return api;
}
