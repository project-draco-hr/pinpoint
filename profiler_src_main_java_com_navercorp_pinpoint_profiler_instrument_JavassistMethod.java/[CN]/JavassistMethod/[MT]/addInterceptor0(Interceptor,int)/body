{
  if (interceptor == null) {
    throw new NullPointerException("interceptor must not be null");
  }
  final InterceptorDefinition interceptorDefinition=INTERCEPTOR_TYPE_DETECTOR.getInterceptorDefinition(interceptor.getClass());
  StringBuilder initVars=new StringBuilder();
  String interceptorInstanceVar=InvokeCodeGenerator.getInterceptorVar(interceptorId);
  addLocalVariable(interceptorInstanceVar,Interceptor.class);
  initVars.append(interceptorInstanceVar);
  initVars.append(" = null;");
  int originalCodeOffset=insertBefore(-1,initVars.toString());
  boolean localVarsInitialized=false;
  int offset=addBeforeInterceptor(interceptorDefinition,interceptorId,originalCodeOffset);
  if (offset != -1) {
    localVarsInitialized=true;
    originalCodeOffset=offset;
  }
  addAfterInterceptor(interceptorDefinition,interceptorId,localVarsInitialized,originalCodeOffset);
}
