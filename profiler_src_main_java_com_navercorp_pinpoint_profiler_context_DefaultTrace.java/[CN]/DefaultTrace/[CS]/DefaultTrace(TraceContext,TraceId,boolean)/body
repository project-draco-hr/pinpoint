{
  if (traceContext == null) {
    throw new NullPointerException("traceContext must not be null");
  }
  if (continueTraceId == null) {
    throw new NullPointerException("continueTraceId must not be null");
  }
  this.traceContext=traceContext;
  this.traceId=continueTraceId;
  this.sampling=sampling;
  this.traceId.incrementTraceCount();
  this.spanRecorder=new DefaultSpanRecorder(traceContext,traceId,sampling);
  this.spanRecorder.recordTraceId(traceId);
  this.spanEventRecorder=new WrappedSpanEventRecorder(traceContext);
}
