{
  Node node=new Node(span);
  if (node.getId() == null) {
    return;
  }
  if (span.getServiceType().isRpcClient()) {
    nodes.addNode(span.getEndPoint(),node);
  }
 else {
    nodes.addNode(span.getServiceName(),node);
  }
  subspans.add(span);
}
