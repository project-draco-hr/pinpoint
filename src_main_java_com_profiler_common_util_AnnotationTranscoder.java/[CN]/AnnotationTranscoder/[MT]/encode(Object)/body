{
  byte[] b=null;
  int type=0;
  if (o instanceof String) {
    b=encodeString((String)o);
    type=CODE_STRING;
  }
 else   if (o instanceof Long) {
    b=tu.encodeLong((Long)o);
    type=CODE_LONG;
  }
 else   if (o instanceof Integer) {
    b=tu.encodeInt((Integer)o);
    type=CODE_INT;
  }
 else   if (o instanceof Boolean) {
    if (Boolean.TRUE.equals(o)) {
      type=CODE_BOOLEAN_TRUE;
    }
 else {
      type=CODE_BOOLEAN_FALSE;
    }
  }
 else   if (o instanceof Byte) {
    b=tu.encodeByte((Byte)o);
    type=CODE_BYTE;
  }
 else   if (o instanceof Float) {
    b=tu.encodeInt(Float.floatToRawIntBits((Float)o));
    type=CODE_FLOAT;
  }
 else   if (o instanceof Double) {
    b=tu.encodeLong(Double.doubleToRawLongBits((Double)o));
    type=CODE_DOUBLE;
  }
 else   if (o instanceof byte[]) {
    b=(byte[])o;
    type=CODE_BYTEARRAY;
  }
 else   if (o instanceof Date) {
    b=tu.encodeLong(((Date)o).getTime());
    type=CODE_DATE;
  }
 else {
    String str=o.toString();
    b=encodeString(str);
    type=CODE_STRING;
  }
  return new Encoded(type,b);
}
