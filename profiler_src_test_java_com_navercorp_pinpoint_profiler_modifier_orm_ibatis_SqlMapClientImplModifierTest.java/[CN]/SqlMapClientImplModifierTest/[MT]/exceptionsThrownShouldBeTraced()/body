{
  when(this.mockSqlMapExecutorDelegate.beginSessionScope()).thenReturn(null);
  SqlMapClient sqlMapClient=new SqlMapClientImpl(this.mockSqlMapExecutorDelegate);
  try {
    sqlMapClient.insert("insertShouldThrowNPE");
    fail("sqlMapClient.insert should throw NullPointerException");
  }
 catch (  NullPointerException e) {
    final List<SpanEventBo> spanEvents=getCurrentSpanEvents();
    assertThat(spanEvents.size(),is(1));
    final SpanEventBo exceptionSpanEventBo=spanEvents.get(0);
    assertThat(exceptionSpanEventBo.hasException(),is(true));
    assertThat(exceptionSpanEventBo.getExceptionId(),not(0));
  }
}
