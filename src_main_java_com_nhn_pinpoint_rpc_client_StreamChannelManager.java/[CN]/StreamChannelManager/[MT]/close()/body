{
  logger.debug("close()");
  final ConcurrentMap<Integer,StreamChannel> channelMap=this.channelMap;
  int forceCloseChannel=0;
  for (  Map.Entry<Integer,StreamChannel> entry : channelMap.entrySet()) {
    if (entry.getValue().closeInternal()) {
      forceCloseChannel++;
    }
  }
  channelMap.clear();
  if (forceCloseChannel > 0) {
    logger.info("streamChannelManager forceCloseChannel {}",forceCloseChannel);
  }
}
