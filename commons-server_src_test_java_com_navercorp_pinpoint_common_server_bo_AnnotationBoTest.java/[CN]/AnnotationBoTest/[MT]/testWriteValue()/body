{
  AnnotationBo annotation1=new AnnotationBo();
  annotation1.setKey(AnnotationKey.API.getCode());
  final String value=RandomStringUtils.random(RandomUtils.nextInt(20));
  annotation1.setByteValue(value.getBytes(UTF_8));
  AnnotationBo annotation=annotation1;
  Buffer buffer=new AutomaticBuffer(128);
  this.serializer.writeAnnotation(annotation,buffer);
  Buffer deprecatedBuffer=new AutomaticBuffer(128);
  annotation.writeValue(deprecatedBuffer);
  Assert.assertArrayEquals(buffer.getBuffer(),deprecatedBuffer.getBuffer());
  AnnotationBo bo2=new AnnotationBo();
  buffer.setOffset(0);
  bo2.readValue(buffer);
  Assert.assertEquals(annotation.getKey(),bo2.getKey());
  Assert.assertEquals(annotation.getValueType(),bo2.getValueType());
  Assert.assertArrayEquals(annotation.getByteValue(),bo2.getByteValue());
  buffer.setOffset(0);
  AnnotationBo decodedAnnotation=annotationBoDecoder.decodeAnnotation(buffer);
  Assert.assertEquals(annotation.getKey(),decodedAnnotation.getKey());
  Assert.assertEquals(annotation.getValueType(),decodedAnnotation.getValueType());
  Assert.assertArrayEquals(annotation.getByteValue(),decodedAnnotation.getByteValue());
}
