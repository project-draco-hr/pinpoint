{
  if (isRequestData()) {
    RequestDataListThriftDTO dto=requestDataThreadLocal.get();
    dto=checkDTO(dto);
    List<RequestDataThriftDTO> list=dto.getRequestDataList();
    checkSqlParamMap(list);
    RequestDataThriftDTO dataDto=new RequestDataThriftDTO(dataType,System.currentTimeMillis());
    if (url != null) {
      int hashCode=url.hashCode();
      String before=dbConnectionURL.putIfAbsent(hashCode,url);
      if (before == null) {
        dataDto.setDataString(url);
      }
      dataDto.setDataHashCode(hashCode);
    }
    list.add(dataDto);
    requestDataThreadLocal.set(dto);
  }
}
