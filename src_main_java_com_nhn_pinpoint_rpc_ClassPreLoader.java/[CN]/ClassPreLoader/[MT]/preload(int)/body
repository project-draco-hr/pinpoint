{
  PinpointServerSocket serverSocket=null;
  PinpointSocket socket=null;
  try {
    serverSocket=new PinpointServerSocket();
    serverSocket.bind("127.0.0.1",port);
    PinpointSocketFactory pinpointSocketFactory=new PinpointSocketFactory();
    socket=pinpointSocketFactory.connect("127.0.0.1",port);
    socket.sendSync(new byte[0]);
  }
 catch (  PinpointSocketException ex) {
    System.err.print("preLoad error Caused:" + ex.getMessage());
    ex.printStackTrace();
    final Logger logger=LoggerFactory.getLogger(ClassPreLoader.class);
    logger.warn("preLoad error Caused:{}",ex.getMessage(),ex);
    throw ex;
  }
 finally {
    if (socket != null) {
      try {
        socket.close();
      }
 catch (      Exception e) {
        e.printStackTrace();
      }
    }
    if (serverSocket != null) {
      try {
        serverSocket.close();
      }
 catch (      Exception e) {
        e.printStackTrace();
      }
    }
  }
}
