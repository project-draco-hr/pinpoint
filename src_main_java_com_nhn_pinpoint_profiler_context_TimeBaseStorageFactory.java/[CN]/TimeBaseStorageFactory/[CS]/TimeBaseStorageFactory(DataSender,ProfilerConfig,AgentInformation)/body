{
  if (dataSender == null) {
    throw new NullPointerException("dataSender must not be null");
  }
  if (config == null) {
    throw new NullPointerException("config must not be null");
  }
  this.dataSender=dataSender;
  this.bufferSize=config.getSamplingElapsedTimeBaseBufferSize();
  this.discardEnable=config.isSamplingElapsedTimeBaseDiscard();
  this.discardTimeLimit=config.getSamplingElapsedTimeBaseDiscardTimeLimit();
  this.spanChunkFactory=new SpanChunkFactory(agentInformation);
}
