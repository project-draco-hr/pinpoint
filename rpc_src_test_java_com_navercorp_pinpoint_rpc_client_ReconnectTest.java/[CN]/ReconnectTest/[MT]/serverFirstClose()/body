{
  PinpointServerAcceptor serverAcceptor=PinpointRPCTestUtils.createPinpointServerFactory(bindPort);
  PinpointSocket socket=socketFactory.connect("127.0.0.1",bindPort);
  byte[] randomByte=TestByteUtils.createRandomByte(10);
  Future<ResponseMessage> response=socket.request(randomByte);
  response.await();
  try {
    response.getResult();
  }
 catch (  Exception e) {
    logger.debug("timeout.",e);
  }
  PinpointRPCTestUtils.close(serverAcceptor);
  Thread.sleep(1000 * 2);
  PinpointRPCTestUtils.close(socket);
}
