{
  super(clazz);
  if (logger.isDebugEnabled()) {
    logger.debug("PinpointJUnit4ClassRunner constructor called with [" + clazz + "].");
  }
  MockAgent testAgent=createTestAgent();
  this.testAgent=testAgent;
  this.testDataSender=testAgent.getPeekableSpanDataSender();
  this.testClassLoader=getTestClassLoader(clazz);
  this.testClassLoader.initialize();
  try {
    this.testContext=new TestContext(this.testClassLoader,clazz);
  }
 catch (  ClassNotFoundException e) {
    throw new InitializationError(e);
  }
  try {
    Field testClassField=this.getClass().getSuperclass().getSuperclass().getDeclaredField("fTestClass");
    testClassField.setAccessible(true);
    testClassField.set(this,this.testContext.getTestClass());
  }
 catch (  Exception e) {
    throw new InitializationError(e);
  }
}
