{
  if (traceIds == null) {
    throw new NullPointerException("traceIds must not be null");
  }
  if (applicationName == null) {
    throw new NullPointerException("applicationName must not be null");
  }
  List<List<SpanBo>> traceList=traceDao.selectAllSpans(traceIds);
  List<Dot> list=new ArrayList<Dot>();
  for (  List<SpanBo> trace : traceList) {
    if (!filter.include(trace)) {
      continue;
    }
    for (    SpanBo span : trace) {
      if (applicationName.equals(span.getApplicationId())) {
        TransactionId transactionId=new TransactionId(span.getTraceAgentId(),span.getTraceAgentStartTime(),span.getTraceTransactionSequence());
        list.add(new Dot(transactionId,span.getCollectorAcceptTime(),span.getElapsed(),span.getErrCode(),span.getAgentId()));
      }
    }
  }
  return list;
}
