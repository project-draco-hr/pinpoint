{
  changeStatus(AgentStatus.INITIALIZING);
  Assert.notNull(profilerConfig,"profilerConfig must not be null");
  this.profilerConfig=profilerConfig;
  this.serverInfo=new ServerInfo();
  this.machineName=NetworkUtils.getMachineName();
  this.agentId=getId("hippo.agentId",machineName,HBaseTables.AGENT_NAME_MAX_LEN);
  this.nodeName=System.getProperty("hippo.nodeName",machineName);
  this.applicationName=getId("hippo.applicationName","UnknownApplicationName",HBaseTables.APPLICATION_NAME_MAX_LEN);
  this.priorityDataSender=createDataSender();
  this.dataSender=createDataSender();
  this.startTime=System.currentTimeMillis();
  this.identifier=getShortIdentifier();
  initializeTraceContext();
  this.systemMonitor=new SystemMonitor(this.traceContext,this.profilerConfig);
  this.systemMonitor.setDataSender(dataSender);
  ApiMappingTable.findApiId("test",null,null);
  this.agentInfo=createAgentInfo();
  this.heartBitChecker=new HeartBitChecker(priorityDataSender,profilerConfig.getHeartbeatInterval(),agentInfo);
  SingletonHolder.INSTANCE=this;
}
