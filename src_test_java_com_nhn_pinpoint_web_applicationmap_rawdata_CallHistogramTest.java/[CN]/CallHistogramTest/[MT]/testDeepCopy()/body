{
  CallHistogram callHistogram=new CallHistogram("test",ServiceType.TOMCAT);
  TimeHistogram histogram=new TimeHistogram(ServiceType.TOMCAT,0);
  histogram.addCallCount(ServiceType.TOMCAT.getHistogramSchema().getErrorSlot().getSlotTime(),1);
  callHistogram.addTimeHistogram(histogram);
  CallHistogram copy=new CallHistogram(callHistogram);
  Assert.assertEquals(copy.getHistogram().getErrorCount(),1);
  TimeHistogram histogram2=new TimeHistogram(ServiceType.TOMCAT,0);
  histogram2.addCallCount(ServiceType.TOMCAT.getHistogramSchema().getErrorSlot().getSlotTime(),2);
  callHistogram.addTimeHistogram(histogram2);
  Assert.assertEquals(callHistogram.getHistogram().getErrorCount(),3);
  Assert.assertEquals(copy.getHistogram().getErrorCount(),1);
}
