{
synchronized (lock) {
    long waitTime=waitTimeMillis;
    long waitUnitTime=waitUnitTimeMillis;
    if (waitTimeMillis < 1000) {
      waitTime=1000;
    }
    if (waitUnitTimeMillis < 100) {
      waitUnitTime=500;
    }
    long startTimeMillis=System.currentTimeMillis();
    while (latestJobRepository.size() == 0 && isOverWaitTime(waitTime,startTimeMillis) && workerState.get() == 1) {
      try {
        lock.wait(waitUnitTime);
      }
 catch (      InterruptedException e) {
      }
    }
    if (isOverWaitTime(waitTime,startTimeMillis)) {
      return false;
    }
    return true;
  }
}
