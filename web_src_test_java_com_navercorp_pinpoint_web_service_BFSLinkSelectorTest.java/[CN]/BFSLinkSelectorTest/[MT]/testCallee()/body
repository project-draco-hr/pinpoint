{
  LinkDataMap linkDataMap=new LinkDataMap();
  linkDataMap.addLinkData(APP_A,"agentA",APP_B,"agentB",1000,HistogramSchema.NORMAL_SCHEMA.getNormalSlot().getSlotTime(),1);
  when(callerDao.selectCaller((Application)anyObject(),(Range)anyObject())).thenReturn(new LinkDataMap());
  when(calleeDao.selectCallee(eq(APP_B),(Range)anyObject())).thenReturn(linkDataMap);
  when(hostApplicationMapDao.findAcceptApplicationName((Application)anyObject(),(Range)anyObject())).thenReturn(new HashSet<AcceptApplication>());
  BFSLinkSelector bfsLinkSelector=new BFSLinkSelector(this.callerDao,this.calleeDao,hostApplicationMapDao);
  Range range=new Range(0,100);
  SearchOption option=new SearchOption(1,1);
  LinkDataDuplexMap select=bfsLinkSelector.select(APP_B,range,option);
  Assert.assertEquals(select.size(),1);
  Assert.assertEquals(select.getSourceLinkDataList().size(),0);
  Assert.assertEquals(select.getTargetLinkDataList().size(),1);
}
