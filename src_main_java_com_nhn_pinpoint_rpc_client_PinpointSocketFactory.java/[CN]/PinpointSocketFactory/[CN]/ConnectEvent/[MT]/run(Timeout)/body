{
  logger.warn("try reconnect {}",socketAddress);
  final ChannelFuture channelFuture=connectAsync(socketAddress);
  Channel channel=channelFuture.getChannel();
  final SocketHandler socketHandler=getSocketHandler(channel);
  socketHandler.setPinpointSocketFactory(PinpointSocketFactory.this);
  socketHandler.setSocketAddress(socketAddress);
  socketHandler.setPinpointSocket(pinpointSocket);
  channelFuture.addListener(new ChannelFutureListener(){
    @Override public void operationComplete(    ChannelFuture future) throws Exception {
      if (future.isSuccess()) {
        Channel channel=future.getChannel();
        logger.warn("reconnect success {}, {}",socketAddress,channel);
        socketHandler.open();
        pinpointSocket.replaceSocketHandler(socketHandler);
      }
 else {
        if (!pinpointSocket.isClosed()) {
          Throwable cause=future.getCause();
          logger.warn("reconnect fail. {} Caused:{}",socketAddress,cause.getMessage(),cause);
          reconnect(pinpointSocket,socketAddress);
        }
 else {
          logger.info("pinpointSocket is closed");
        }
      }
    }
  }
);
}
