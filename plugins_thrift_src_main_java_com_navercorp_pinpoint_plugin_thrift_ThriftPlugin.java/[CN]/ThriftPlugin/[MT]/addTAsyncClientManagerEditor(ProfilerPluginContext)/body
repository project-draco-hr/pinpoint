{
  final ClassFileTransformerBuilder classTransformerBuilder=context.getClassFileTransformerBuilder("org.apache.thrift.async.TAsyncClientManager");
  classTransformerBuilder.injectMetadata(METADATA_NONBLOCKING_SOCKET_ADDRESS);
  classTransformerBuilder.injectMetadata(METADATA_ASYNC_TRACE_ID);
  classTransformerBuilder.injectMetadata(METADATA_ASYNC_NEXT_SPAN_ID);
  classTransformerBuilder.injectMetadata(METADATA_ASYNC_CALL_REMOTE_ADDRESS);
  final MethodTransformerBuilder callMethodTransformerBuilder=classTransformerBuilder.editMethod("call","org.apache.thrift.async.TAsyncMethodCall");
  callMethodTransformerBuilder.property(MethodTransformerProperty.IGNORE_IF_NOT_EXIST);
  callMethodTransformerBuilder.injectInterceptor("com.navercorp.pinpoint.plugin.thrift.interceptor.client.async.TAsyncClientManagerCallInterceptor");
  context.addClassFileTransformer(classTransformerBuilder.build());
}
