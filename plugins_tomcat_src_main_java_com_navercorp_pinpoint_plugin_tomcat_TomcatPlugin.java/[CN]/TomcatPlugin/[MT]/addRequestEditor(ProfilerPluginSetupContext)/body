{
  ClassFileTransformerBuilder builder=context.getClassFileTransformerBuilder("org.apache.catalina.connector.Request");
  builder.injectMetadata(METADATA_TRACE);
  builder.injectMetadata(METADATA_ASYNC);
  MethodTransformerBuilder recycleMethodEditorBuilder=builder.editMethod("recycle");
  recycleMethodEditorBuilder.injectInterceptor("com.navercorp.pinpoint.plugin.tomcat.interceptor.RequestRecycleInterceptor");
  MethodTransformerBuilder startAsyncMethodEditor=builder.editMethod("startAsync","javax.servlet.ServletRequest","javax.servlet.ServletResponse");
  startAsyncMethodEditor.property(MethodTransformerProperty.IGNORE_IF_NOT_EXIST);
  startAsyncMethodEditor.injectInterceptor("com.navercorp.pinpoint.plugin.tomcat.interceptor.RequestStartAsyncInterceptor");
  context.addClassFileTransformer(builder.build());
}
