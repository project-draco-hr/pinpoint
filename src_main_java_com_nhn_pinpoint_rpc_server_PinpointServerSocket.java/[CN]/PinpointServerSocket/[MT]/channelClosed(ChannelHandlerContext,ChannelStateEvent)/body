{
  final Channel channel=e.getChannel();
  final ChannelContext channelContext=getChannelContext(channel);
  PinpointServerSocketState state=channelContext.getState();
  if (state.getCurrentState() != PinpointServerSocketStateCode.BEING_SHUTDOWN) {
    if (logger.isDebugEnabled()) {
      logger.debug("client channelClosed. normal closed. {}",channel);
    }
    state.changeStateShutdown();
  }
 else   if (released) {
    if (logger.isDebugEnabled()) {
      logger.debug("client channelClosed. server shutdown. {}",channel);
    }
    state.changeStateShutdown();
  }
 else {
    boolean check=checkIgnoreAddress(channel);
    if (check) {
      logger.warn("Unexpected Client channelClosed {}",channel);
    }
 else {
      logger.debug("checkAddress, Client channelClosed channelClosed {}",channel);
    }
    state.changeStateUnexpectedShutdown();
  }
  channelContext.closeAllStreamChannel();
}
