{
  final Channel channel=e.getChannel();
  if (logger.isDebugEnabled()) {
    logger.debug("server channelConnected {}",channel);
  }
  if (released) {
    logger.warn("already released. channel:{}",channel);
    channel.write(new ServerClosePacket()).addListener(new ChannelFutureListener(){
      @Override public void operationComplete(      ChannelFuture future) throws Exception {
        future.getChannel().close();
      }
    }
);
    return;
  }
  prepareChannel(channel);
  ChannelContext channelContext=getChannelContext(channel);
  boolean check=checkIgnoreAddress(channel);
  if (check) {
    channelContext.changeStateRun();
  }
  super.channelConnected(ctx,e);
}
