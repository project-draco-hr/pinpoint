{
  super.after(target,args,result,throwable);
  if (throwable != null) {
    return;
  }
  Boolean endAsyncBlock=this.asyncCallEndFlagAccessor.get(target);
  if (endAsyncBlock != null && endAsyncBlock) {
    final Trace trace=super.traceContext.currentTraceObject();
    if (trace == null) {
      return;
    }
    if (trace.isAsync() && trace.isRootStack()) {
      CallStackFrame recorder=trace.peekCallStackFrame();
      recorder.markAfterTime();
      trace.close();
      super.traceContext.removeTraceObject();
    }
  }
}
