{
  if (!spanEventBo.isAsync()) {
    if (isSameParent(spanEventBo)) {
      if (align.current == 0) {
        sync.current=1;
      }
    }
 else {
      int depth=spanEventBo.getDepth();
      if (depth > sync.current + 1) {
        depth=sync.current + 1;
      }
      sync.current=sync.parent + depth;
    }
    align.current=sync.current;
  }
  return align.current;
}
