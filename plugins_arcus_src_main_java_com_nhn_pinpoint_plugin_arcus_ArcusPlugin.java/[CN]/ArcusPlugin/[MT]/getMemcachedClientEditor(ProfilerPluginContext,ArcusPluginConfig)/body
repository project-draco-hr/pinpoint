{
  boolean traceKey=config.isMemcachedKeyTrace();
  ClassEditorBuilder builder=context.newClassEditorBuilder();
  builder.edit("net.spy.memcached.MemcachedClient");
  builder.when(new Condition(){
    @Override public boolean check(    InstrumentClass target){
      return target.hasDeclaredMethod("addOp",new String[]{"java.lang.String","net.spy.memcached.ops.Operation"});
    }
  }
);
  builder.inject("com.nhn.pinpoint.plugin.arcus.accessor.ServiceCodeAccessor");
  builder.intercept("addOp","java.lang.String","net.spy.memcached.ops.Operation").with("com.nhn.pinpoint.plugin.arcus.interceptor.AddOpInterceptor");
  builder.interceptMethodsFilteredBy(new MemcachedMethodFilter()).with("com.nhn.pinpoint.plugin.arcus.interceptor.ApiInterceptor").in(Constants.ARCUS_SCOPE).constructedWith(traceKey);
  return builder.build();
}
