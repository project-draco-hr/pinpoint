{
  HeaderTBaseSerializer seriallize=HeaderTBaseSerDesFactory.getSerializer(HeaderTBaseSerDesFactory.DEFAULT_SAFETY_GURANTEED_MAX_SERIALIZE_DATA_SIZE);
  byte[] payload=seriallize.serialize(tbase);
  Packet packet=null;
  if (isReqRes) {
    packet=new RequestPacket(payload);
  }
 else {
    packet=new SendPacket(payload);
  }
  os.write(packet.toBuffer().toByteBuffer().array());
  os.flush();
}
