{
  final SpanBo parentSpan=transactionSpanMap.get(span.getParentSpanId());
  if (span.isRoot() || parentSpan == null) {
    String src=span.getApplicationId();
    ServiceType srcServiceType=ServiceType.USER;
    return new Application(src,srcServiceType);
  }
 else {
    String src=parentSpan.getApplicationId();
    ServiceType serviceType=parentSpan.getServiceType();
    return new Application(src,serviceType);
  }
}
