{
  super(downSampler);
  if (timeWindow.getWindowRangeCount() > Integer.MAX_VALUE) {
    throw new IllegalArgumentException("range yields too many timeslots");
  }
  this.timeWindow=timeWindow;
  int numTimeslots=(int)this.timeWindow.getWindowRangeCount();
  this.timeslots=new ArrayList<>(numTimeslots);
  initializeTimeslots(numTimeslots);
}
