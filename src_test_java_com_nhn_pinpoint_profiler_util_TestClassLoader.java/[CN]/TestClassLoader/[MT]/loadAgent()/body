{
  try {
    Thread.currentThread().setContextClassLoader(this);
    Class<?> agentClass=this.loadClass(this.agentClassName);
    @SuppressWarnings("unchecked") Constructor<? extends DefaultAgent> agentConstructor=(Constructor<? extends DefaultAgent>)agentClass.getConstructor(String.class,ProfilerConfig.class);
    ProfilerConfig profilerConfig=getProfilerConfig();
    this.agent=agentConstructor.newInstance("",profilerConfig);
    this.instrumentor=((DefaultAgent)agent).getByteCodeInstrumentor();
    this.instrumentTranslator=new InstrumentTranslator(this,((DefaultAgent)agent));
  }
 catch (  Exception e) {
    throw new InitializationError(e);
  }
}
