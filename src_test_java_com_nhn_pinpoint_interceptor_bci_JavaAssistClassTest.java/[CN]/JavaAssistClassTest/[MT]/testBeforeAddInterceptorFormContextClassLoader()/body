{
  ByteCodeInstrumentor javaAssistByteCodeInstrumentor=new JavaAssistByteCodeInstrumentor();
  InstrumentClass aClass=javaAssistByteCodeInstrumentor.getClass("com.nhn.pinpoint.interceptor.bci.TestObjectContextClassLoader");
  TestBeforeInterceptor interceptor=new TestBeforeInterceptor();
  String methodName="callA";
  aClass.addInterceptorCallByContextClassLoader(methodName,null,interceptor);
  Object testObject=aClass.toClass().newInstance();
  Method callA=testObject.getClass().getMethod(methodName);
  callA.invoke(testObject);
  Assert.assertEquals(interceptor.call,1);
  Assert.assertEquals(interceptor.className,"com.nhn.pinpoint.interceptor.bci.TestObjectContextClassLoader");
  Assert.assertEquals(interceptor.methodName,methodName);
  Assert.assertEquals(interceptor.args,null);
  Assert.assertEquals(interceptor.target,testObject);
}
