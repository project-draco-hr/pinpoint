{
  RequestProcessor requestProcessor=new RequestProcessor(10);
  try {
    RequestPacket packet=new RequestPacket(new byte[0]);
    Future future=requestProcessor.registerRequest(packet,50);
    Thread.sleep(200);
    Assert.assertTrue(future.isReady());
    Assert.assertFalse(future.isSuccess());
    Assert.assertTrue(future.getCause().getMessage().contains("timeout"));
    logger.debug(future.getCause().getMessage());
  }
  finally {
    requestProcessor.close();
  }
}
