{
  final ClassLoader forPlugin=cache.get(loader);
  if (forPlugin != null) {
    return forPlugin;
  }
  final ClassLoader newInstance=new URLClassLoader(pluginJars,loader);
  final ClassLoader before=cache.putIfAbsent(loader,newInstance);
  if (before == null) {
    return newInstance;
  }
 else {
    close(newInstance);
    return before;
  }
}
