{
  Long timeout=1000L;
  TimeUnit unit=TimeUnit.MILLISECONDS;
  MockOperationFuture future=mock(MockOperationFuture.class);
  MockOperation operation=mock(MockOperation.class);
  try {
    OperationException exception=new OperationException(OperationErrorType.GENERAL,"timed out");
    when(operation.getException()).thenReturn(exception);
    when(operation.isCancelled()).thenReturn(true);
    when(future.__getOperation()).thenReturn(operation);
    MemcachedNode node=getMockMemcachedNode();
    when(operation.getHandlingNode()).thenReturn(node);
    interceptor.before(future,new Object[]{timeout,unit});
    interceptor.after(future,new Object[]{timeout,unit},null,null);
  }
 catch (  Exception e) {
    fail(e.getMessage());
  }
}
