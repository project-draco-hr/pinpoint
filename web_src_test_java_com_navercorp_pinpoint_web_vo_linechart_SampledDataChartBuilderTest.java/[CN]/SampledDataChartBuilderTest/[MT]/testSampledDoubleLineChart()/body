{
  final double defaultValue=0D;
  int sampleRate=60;
  int totalPoints=10000;
  final int expectedNumPoints=getExpectedNumPoints(sampleRate,totalPoints);
  ChartBuilder<Long,Double> doubleLineChartBuilder=new SampledDataDoubleChartBuilder(DownSamplers.getDoubleDownSampler(defaultValue,1),sampleRate);
  for (long i=0; i < totalPoints; ++i) {
    doubleLineChartBuilder.addDataPoint(new DataPoint<>(i,(double)i));
  }
  Chart lineChart=doubleLineChartBuilder.buildChart();
  assertTrue(lineChart.getPoints().size() == expectedNumPoints);
  ObjectMapper mapper=new ObjectMapper();
  String result=mapper.writeValueAsString(lineChart);
  logger.debug(result);
}
