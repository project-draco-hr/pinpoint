{
  forked=true;
  int index=0;
  ClassLoader classLoader=ClassLoader.getSystemClassLoader();
  if (args[index].startsWith(CHILD_CLASS_PATH_PREFIX)) {
    String jars=args[0].substring(CHILD_CLASS_PATH_PREFIX.length());
    List<URL> urls=getJarUrls(jars);
    classLoader=new URLClassLoader(urls.toArray(new URL[urls.size()]),classLoader);
    index++;
  }
  String testId=args[index];
  index++;
  String testClassName=args[index];
  ClassLoader old=Thread.currentThread().getContextClassLoader();
  Thread.currentThread().setContextClassLoader(classLoader);
  Class<?> testClass=classLoader.loadClass(testClassName);
  Result result=runTests(testClass,testId);
  Thread.currentThread().setContextClassLoader(old);
  System.exit(result.getFailureCount());
}
