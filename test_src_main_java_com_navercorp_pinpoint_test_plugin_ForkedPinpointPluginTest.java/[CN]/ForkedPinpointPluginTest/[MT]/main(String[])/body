{
  forked=true;
  String testClassName=args[0];
  ClassLoader classLoader=ClassLoader.getSystemClassLoader();
  boolean testOnChildClassLoader=false;
  if (args.length >= 2 && args[1].startsWith(CHILD_CLASS_PATH_PREFIX)) {
    String jars=args[1].substring(CHILD_CLASS_PATH_PREFIX.length());
    List<URL> urls=getJarUrls(jars);
    classLoader=new URLClassLoader(urls.toArray(new URL[urls.size()]),classLoader);
    testOnChildClassLoader=true;
  }
  String testId=System.getProperty(PluginTestProperty.PINPOINT_TEST_ID,"");
  String testName=PluginTestProperty.makeTestName(testId,testOnChildClassLoader);
  ClassLoader old=Thread.currentThread().getContextClassLoader();
  Thread.currentThread().setContextClassLoader(classLoader);
  Class<?> testClass=classLoader.loadClass(testClassName);
  Result result=runTests(testClass,testName);
  Thread.currentThread().setContextClassLoader(old);
  System.exit(result.getFailureCount());
}
