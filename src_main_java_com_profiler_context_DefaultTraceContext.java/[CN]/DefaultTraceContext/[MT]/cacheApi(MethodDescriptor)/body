{
  String fullName=methodDescriptor.getFullName();
  Result result=this.apiCache.put(fullName);
  if (result.isNewValue()) {
    ApiMetaData apiMetadata=new ApiMetaData();
    Agent agent=Agent.getInstance();
    apiMetadata.setAgentId(agent.getAgentId());
    apiMetadata.setAgentIdentifier(agent.getIdentifier());
    apiMetadata.setStartTime(agent.getStartTime());
    apiMetadata.setApiId(result.getId());
    apiMetadata.setApiInfo(methodDescriptor.getApiDescriptor());
    apiMetadata.setLine(methodDescriptor.getLineNumber());
    this.priorityDataSender.send(apiMetadata);
    methodDescriptor.setApiId(result.getId());
  }
  return result.getId();
}
