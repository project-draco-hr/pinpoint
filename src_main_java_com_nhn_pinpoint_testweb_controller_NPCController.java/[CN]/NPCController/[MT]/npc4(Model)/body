{
  NpcHessianConnector connector=null;
  try {
    InetSocketAddress serverAddress=new InetSocketAddress("127.0.0.1",5000);
    ConnectionFactory npcConnectionFactory=new NpcConnectionFactory();
    npcConnectionFactory.setTimeout(1000L);
    npcConnectionFactory.setAddress(serverAddress);
    npcConnectionFactory.setLightWeight(true);
    connector=npcConnectionFactory.create();
    Map<String,Object> params=new HashMap<String,Object>();
    params.put("message","hello pinpoint");
    InvocationFuture future=connector.invoke("welcome/com.nhncorp.lucy.bloc.welcome.EchoBO","execute",params);
    future.await();
    Object result=future.getReturnValue();
    System.out.println("npc result=" + result);
  }
 catch (  Exception e) {
    e.printStackTrace();
    return e.getMessage();
  }
 finally {
    if (connector != null) {
      connector.dispose();
    }
  }
  return "OK";
}
