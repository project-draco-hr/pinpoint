{
  logger.debug("traceId:{}",traceId);
  ModelAndView mv=new ModelAndView("selectTransaction");
  try {
    List<SpanAlign> spanAligns=spanService.selectSpan(traceId);
    if (spanAligns.isEmpty()) {
      mv.addObject("errorCode",9);
      mv.setViewName("error");
      return mv;
    }
    mv.addObject("spanList",spanAligns);
    mv.addObject("traceId",traceId);
    ServerCallTree callTree=flow.selectServerCallTree(new TraceId(UUID.fromString(traceId)));
    mv.addObject("nodes",callTree.getNodes());
    mv.addObject("links",callTree.getLinks());
    RecordSet recordset=new RecordSet(spanAligns);
    mv.addObject("applicationName",recordset.getApplicationName());
    mv.addObject("callstack",recordset.getIterator());
    mv.addObject("timeline",recordset.getIterator());
    mv.addObject("callstackStart",recordset.getStartTime());
    mv.addObject("callstackEnd",recordset.getEndTime());
  }
 catch (  Exception e) {
    e.printStackTrace();
  }
  return mv;
}
