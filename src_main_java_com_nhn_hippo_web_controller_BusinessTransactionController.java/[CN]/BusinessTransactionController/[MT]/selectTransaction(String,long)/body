{
  logger.debug("traceId:{}",traceIdParam);
  final TraceId traceId=new TraceId(traceIdParam);
  ModelAndView mv=new ModelAndView("selectTransaction");
  try {
    List<SpanAlign> spanAligns=spanService.selectSpan(traceId);
    if (spanAligns.isEmpty()) {
      mv.addObject("errorCode",9);
      mv.setViewName("error");
      return mv;
    }
    mv.addObject("spanList",spanAligns);
    mv.addObject("traceId",traceId);
    ServerCallTree callTree=flow.selectServerCallTree(traceId);
    mv.addObject("nodes",callTree.getNodes());
    mv.addObject("links",callTree.getLinks());
    RecordSet recordset=new RecordSet(spanAligns,focusTimestamp);
    mv.addObject("recordset",recordset);
    mv.addObject("applicationName",recordset.getApplicationName());
    mv.addObject("callstack",recordset.getIterator());
    mv.addObject("timeline",recordset.getIterator());
    mv.addObject("callstackStart",recordset.getStartTime());
    mv.addObject("callstackEnd",recordset.getEndTime());
  }
 catch (  Exception e) {
    logger.warn("BusinessTransactionController Error Cause" + e.getMessage(),e);
  }
  return mv;
}
