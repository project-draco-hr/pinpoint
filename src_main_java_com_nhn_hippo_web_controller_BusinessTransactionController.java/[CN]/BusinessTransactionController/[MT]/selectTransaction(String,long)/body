{
  logger.debug("traceId:{}",traceIdParam);
  final TraceId traceId=new TraceId(traceIdParam);
  ModelAndView mv=new ModelAndView("selectTransaction");
  try {
    List<SpanAlign> spanAligns=this.spanService.selectSpan(traceId);
    if (spanAligns.isEmpty()) {
      mv.addObject("errorCode",9);
      mv.setViewName("error");
      return mv;
    }
    mv.addObject("spanList",spanAligns);
    mv.addObject("traceId",traceId);
    ServerCallTree callTree=this.flow.selectServerCallTree(traceId);
    mv.addObject("nodes",callTree.getNodes());
    mv.addObject("links",callTree.getLinks());
    RecordSet recordSet=this.recordSetService.createRecordSet(spanAligns,focusTimestamp);
    mv.addObject("recordset",recordSet);
    mv.addObject("applicationName",recordSet.getApplicationName());
    mv.addObject("callstack",recordSet.getIterator());
    mv.addObject("timeline",recordSet.getIterator());
    mv.addObject("callstackStart",recordSet.getStartTime());
    mv.addObject("callstackEnd",recordSet.getEndTime());
  }
 catch (  Exception e) {
    logger.warn("BusinessTransactionController Error Cause" + e.getMessage(),e);
  }
  return mv;
}
