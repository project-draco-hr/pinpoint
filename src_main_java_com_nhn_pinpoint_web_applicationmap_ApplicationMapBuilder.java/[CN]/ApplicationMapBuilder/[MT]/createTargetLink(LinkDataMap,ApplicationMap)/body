{
  final List<Link> result=new ArrayList<Link>();
  for (  LinkData linkData : rawData.getLinkDataList()) {
    final Application fromApplicationId=linkData.getFromApplication();
    Node fromNode=map.findNode(fromApplicationId);
    final Application toApplicationId=linkData.getToApplication();
    Node toNode=map.findNode(toApplicationId);
    if (fromNode == null) {
      continue;
    }
    LinkCallDataMap callDataMap=linkData.getLinkCallDataMap();
    Link link;
    if (fromNode.getApplication().getServiceType().isUser()) {
      link=new Link(fromNode,toNode,range,callDataMap,new LinkCallDataMap());
    }
 else {
      link=new Link(fromNode,toNode,range,new LinkCallDataMap(),callDataMap);
    }
    if (toNode.getServiceType().isRpcClient()) {
      if (!map.containsNode(toNode.getApplication().getName())) {
        result.add(link);
      }
    }
 else {
      result.add(link);
    }
  }
  return result;
}
