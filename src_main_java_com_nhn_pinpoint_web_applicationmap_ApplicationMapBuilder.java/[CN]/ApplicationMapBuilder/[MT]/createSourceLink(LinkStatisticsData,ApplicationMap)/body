{
  final List<Link> result=new ArrayList<Link>();
  for (  LinkStatistics linkStat : rawData.getLinkStatData()) {
    final Application fromApplicationId=linkStat.getFromApplication();
    Node fromNode=nodeMap.findApplication(fromApplicationId);
    final Application toApplicationId=linkStat.getToApplication();
    Node toNode=nodeMap.findApplication(toApplicationId);
    if (toNode == null) {
      continue;
    }
    CallHistogramList toCallHistogramList=linkStat.getToHostList();
    Link link=new Link(fromNode,toNode,toCallHistogramList);
    link.setSourceList(linkStat.getSourceList());
    if (toNode.getServiceType().isRpcClient()) {
      if (!nodeMap.containsApplicationName(toNode.getApplicationName())) {
        result.add(link);
      }
    }
 else {
      result.add(link);
    }
  }
  return result;
}
