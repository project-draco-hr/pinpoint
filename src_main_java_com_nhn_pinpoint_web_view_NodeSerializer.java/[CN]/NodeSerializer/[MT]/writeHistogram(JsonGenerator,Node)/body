{
  final ServiceType serviceType=node.getServiceType();
  final NodeHistogram nodeHistogram=node.getNodeHistogram();
  if (serviceType.isWas() || serviceType.isTerminal() || serviceType.isUnknown()|| serviceType.isUser()) {
    Histogram applicationHistogram=nodeHistogram.getApplicationHistogram();
    if (applicationHistogram == null) {
      writeEmptyObject(jgen,"histogram");
    }
 else {
      jgen.writeObjectField("histogram",applicationHistogram);
      jgen.writeNumberField("totalCount",applicationHistogram.getTotalCount());
      jgen.writeNumberField("errorCount",applicationHistogram.getErrorCount());
      jgen.writeNumberField("slowCount",applicationHistogram.getSlowCount());
    }
    Map<String,Histogram> agentHistogramMap=nodeHistogram.getAgentHistogramMap();
    if (agentHistogramMap == null) {
      writeEmptyObject(jgen,"agentHistogram");
    }
 else {
      jgen.writeObjectField("agentHistogram",agentHistogramMap);
    }
  }
  if (serviceType.isWas() || serviceType.isUser() || serviceType.isTerminal()|| serviceType.isUnknown()) {
    List<ResponseTimeViewModel> applicationTimeSeriesHistogram=nodeHistogram.getApplicationTimeHistogram();
    if (applicationTimeSeriesHistogram == null) {
      writeEmptyArray(jgen,"timeSeriesHistogram");
    }
 else {
      jgen.writeObjectField("timeSeriesHistogram",applicationTimeSeriesHistogram);
    }
    AgentResponseTimeViewModelList agentTimeSeriesHistogram=nodeHistogram.getAgentTimeHistogram();
    jgen.writeObject(agentTimeSeriesHistogram);
  }
}
