{
  if (this.channel == null) {
    throw new PinpointSocketException("channel is null");
  }
  ChannelContext context=createContext();
  channel.setAttachment(context);
  if (!(this.state.compareAndSet(STATE_INIT,STATE_RUN))) {
    throw new IllegalStateException("invalid open state:" + state.get());
  }
}
