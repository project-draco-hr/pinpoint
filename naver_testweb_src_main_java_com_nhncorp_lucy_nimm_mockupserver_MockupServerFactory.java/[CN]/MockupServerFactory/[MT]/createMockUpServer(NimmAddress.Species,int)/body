{
  if (species == null)   throw new NullPointerException("species");
  NimmMockupServer mockupServer=null;
  NimmAddress serverAddress=null;
  try {
    serverAddress=addressAdmin.retrieveAddressInstance(NimmAddress.Species.Management,serverDomainId,this.idcId,this.serverIds.get(species).getAndIncrement(),serverSocketId,0);
  }
 catch (  AbnormalNimmAddressException e) {
    throw new RuntimeException("address create error",e);
  }
switch (species) {
case Management:
    mockupServer=new NimmMGMTMockupServer(portNo,serverAddress);
  break;
case Service:
mockupServer=new NimmSvcMockupServer(portNo,serverAddress);
break;
}
return mockupServer;
}
