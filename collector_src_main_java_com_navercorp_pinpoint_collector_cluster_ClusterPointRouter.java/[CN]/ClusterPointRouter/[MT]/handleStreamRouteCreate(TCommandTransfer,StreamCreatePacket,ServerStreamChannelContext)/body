{
  byte[] payload=((TCommandTransfer)request).getPayload();
  TBase command=deserialize(payload);
  RouteResult routeResult=streamRouteHandler.onRoute(new StreamEvent((TCommandTransfer)request,streamChannelContext,command));
  RouteStatus status=routeResult.getStatus();
switch (status) {
case OK:
    return BasicStreamPacket.SUCCESS;
case BAD_REQUEST:
  return StreamCreateFailPacket.PACKET_ERROR;
case NOT_FOUND:
return StreamCreateFailPacket.ROUTE_NOT_FOUND;
case NOT_ACCEPTABLE:
return StreamCreateFailPacket.ROUTE_PACKET_UNSUPPORT;
case NOT_ACCEPTABLE_UNKNOWN:
return StreamCreateFailPacket.ROUTE_CONNECTION_ERROR;
case NOT_ACCEPTABLE_AGENT_TYPE:
return StreamCreateFailPacket.ROUTE_TYPE_UNKOWN;
default :
return StreamCreateFailPacket.UNKNWON_ERROR;
}
}
