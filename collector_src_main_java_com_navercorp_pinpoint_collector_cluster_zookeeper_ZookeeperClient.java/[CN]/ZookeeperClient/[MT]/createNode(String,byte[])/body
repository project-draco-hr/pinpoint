{
  checkState();
  try {
    if (zookeeper.exists(znodePath,false) != null) {
      return znodePath;
    }
    String pathName=zookeeper.create(znodePath,data,Ids.OPEN_ACL_UNSAFE,CreateMode.EPHEMERAL);
    return pathName;
  }
 catch (  KeeperException exception) {
    handleException(exception);
  }
  return znodePath;
}
