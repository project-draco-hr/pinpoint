{
  for (  ServerTypeDetector detector : detectors) {
    logger.debug("try resolve using {}",detector.getClass());
    if (detector.detect()) {
      this.serverType=detector.getServerType();
      this.serverLibPath=detector.getServerClassPath();
      this.manuallyStartupRequired=!detector.hasServerProperty(ApplicationServerProperty.MANAGE_PINPOINT_AGENT_LIFECYCLE);
      if (logger.isInfoEnabled()) {
        logger.info("Configured applicationServerType [{}] by {}",serverType,detector.getClass().getName());
      }
      return true;
    }
  }
  String applicationHome=applicationHomePath();
  if (tomcatResolve(applicationHome)) {
    return initializeApplicationInfo(applicationHome,ServiceType.TOMCAT);
  }
  if (defaultType != null) {
    if (logger.isInfoEnabled()) {
      logger.info("Configured applicationServerType:{}",defaultType);
    }
    return initializeApplicationInfo(applicationHome,defaultType);
  }
  return initializeApplicationInfo(applicationHome,ServiceType.STAND_ALONE);
}
