{
  String serverType=null;
  for (  ServerTypeDetector detector : detectors) {
    logger.debug("try to resolve using {}",detector.getClass());
    if (serverType != null && !detector.canOverride(serverType)) {
      continue;
    }
    if (detector.detect()) {
      serverType=detector.getServerTypeName();
      if (logger.isInfoEnabled()) {
        logger.info("Resolved applicationServerType [{}] by {}",serverType,detector.getClass().getName());
      }
    }
  }
  if (serverType != null) {
    this.serverType=ServiceType.valueOf(serverType);
    return true;
  }
  if (defaultType != null) {
    this.serverType=defaultType;
  }
 else {
    this.serverType=ServiceType.STAND_ALONE;
  }
  if (logger.isInfoEnabled()) {
    logger.info("Configured applicationServerType:{}",defaultType);
  }
  return true;
}
