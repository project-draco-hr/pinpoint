{
  final Channel channel=e.getChannel();
  logger.info("channelDisconnected channel:{}",channel);
  final ChannelContext channelContext=getChannelContext(channel);
  if (isExpectedShutdown(channelContext)) {
    channelContext.changeStateToShutdown();
  }
 else {
    boolean isIgnore=isIgnoreAddress(channel);
    if (!isIgnore) {
      channelContext.changeStateToUnexpectedShutdown();
    }
  }
  channelContext.closeAllStreamChannel();
  this.channelGroup.remove(channel);
  super.channelDisconnected(ctx,e);
}
