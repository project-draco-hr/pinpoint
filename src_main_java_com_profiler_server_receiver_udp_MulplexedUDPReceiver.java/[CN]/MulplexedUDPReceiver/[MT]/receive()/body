{
  try {
    this.udpSocket=new DatagramSocket(TomcatProfilerReceiverConfig.DEFUALT_PORT);
  }
 catch (  Exception e) {
    logger.error(e.getMessage(),e);
  }
  if (udpSocket != null) {
    if (logger.isInfoEnabled()) {
      logger.info("Waiting for " + MulplexedUDPReceiver.class.getSimpleName());
    }
    while (state) {
      DatagramPacket packet=null;
      try {
        byte[] buffer=new byte[AcceptedSize];
        if (logger.isInfoEnabled()) {
          logger.info("ReceiveBufferSize=" + udpSocket.getReceiveBufferSize());
        }
        packet=new DatagramPacket(buffer,AcceptedSize);
        udpSocket.receive(packet);
        if (logger.isDebugEnabled()) {
          logger.debug("DatagramPacket read size:" + packet.getLength());
        }
      }
 catch (      IOException e) {
        logger.error(e.getMessage(),e);
        continue;
      }
      try {
        worker.execute(new MulplexedPacketHandler(packet,context));
      }
 catch (      RejectedExecutionException ree) {
        rejectedExecutionCount++;
        if (rejectedExecutionCount > 1000) {
          logger.warn("RejectedExecutionCount=1000");
          rejectedExecutionCount=0;
        }
      }
    }
  }
 else {
    logger.fatal("There is problem with making UDP Socket connection.");
  }
}
