{
  final Operation op=operationAccessor.get(target);
  if (op != null) {
    MemcachedNode handlingNode=op.getHandlingNode();
    if (handlingNode != null) {
      SocketAddress socketAddress=handlingNode.getSocketAddress();
      if (socketAddress instanceof InetSocketAddress) {
        InetSocketAddress address=(InetSocketAddress)socketAddress;
        trace.recordEndPoint(address.getHostName() + ":" + address.getPort());
      }
    }
 else {
      logger.info("no handling node");
    }
  }
 else {
    logger.info("operation not found");
  }
  String serviceCode=serviceCodeAccessor.get(op);
  if (serviceCode != null) {
    trace.recordDestinationId(serviceCode);
    trace.recordServiceType(ARCUS_FUTURE_GET);
  }
 else {
    trace.recordDestinationId("MEMCACHED");
    trace.recordServiceType(ServiceType.MEMCACHED_FUTURE_GET);
  }
  if (op != null) {
    trace.recordException(op.getException());
  }
  trace.recordApi(methodDescriptor);
  trace.markAfterTime();
}
