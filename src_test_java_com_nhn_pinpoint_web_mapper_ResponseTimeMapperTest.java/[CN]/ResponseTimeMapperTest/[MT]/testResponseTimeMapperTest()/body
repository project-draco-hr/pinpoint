{
  ResponseTimeMapper responseTimeMapper=new ResponseTimeMapper();
  RawResponseTime rawResponseTime=new RawResponseTime("applicaionName",ServiceType.TOMCAT.getCode(),System.currentTimeMillis());
  Buffer buffer=new AutomaticBuffer();
  HistogramSlot histogramSlot=ServiceType.TOMCAT.getHistogramSchema().findHistogramSlot(1000);
  short histogramSlotTime=histogramSlot.getSlotTime();
  buffer.put(histogramSlotTime);
  buffer.put(Bytes.toBytes("agent"));
  responseTimeMapper.recordColumn(rawResponseTime,buffer.getBuffer(),Bytes.toBytes(1L));
  ResponseHistogram agentHistogram=rawResponseTime.getHistogram("agent");
  long fastCount=agentHistogram.getValues()[0];
  Assert.assertEquals(fastCount,1);
  long normal=agentHistogram.getValues()[1];
  Assert.assertEquals(normal,0);
  long slow=agentHistogram.getValues()[2];
  Assert.assertEquals(slow,0);
}
