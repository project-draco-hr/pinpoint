{
  PinpointServerSocketState state=new PinpointServerSocketState();
  state.changeState(PinpointServerSocketStateCode.RUN_DUPLEX);
  Assert.assertEquals(PinpointServerSocketStateCode.RUN_DUPLEX,state.getCurrentState());
  state.changeStateThrowWhenFailed(PinpointServerSocketStateCode.BEING_SHUTDOWN);
  Assert.assertEquals(PinpointServerSocketStateCode.BEING_SHUTDOWN,state.getCurrentState());
  PinpointServerSocketStateCode beforeCode=state.changeState(PinpointServerSocketStateCode.UNEXPECTED_SHUTDOWN);
  Assert.assertEquals(PinpointServerSocketStateCode.BEING_SHUTDOWN,beforeCode);
}
