{
  Class<?> c=null;
  try {
    c=classLoader.loadClass(className);
  }
 catch (  ClassNotFoundException ex) {
    if (logger.isTraceEnabled()) {
      logger.trace("ClassNotFound {}",ex.getMessage(),ex);
    }
  }
  if (c != null) {
    return c;
  }
  final CtClass ct=pool.get(className);
  if (ct == null) {
    throw new NotFoundException(className);
  }
  final CtClass superClass=ct.getSuperclass();
  if (superClass != null) {
    injectToPlainClassLoader(pool,classLoader,superClass.getName());
  }
  final CtClass[] interfaces=ct.getInterfaces();
  for (  CtClass ctInterface : interfaces) {
    injectToPlainClassLoader(pool,classLoader,ctInterface.getName());
  }
  final Collection<String> refs=ct.getRefClasses();
  for (  String ref : refs) {
    try {
      injectToPlainClassLoader(pool,classLoader,ref);
    }
 catch (    NotFoundException e) {
      logger.warn("Skip a referenced class because of NotFoundException : ",e);
    }
  }
  final byte[] bytes=ct.toBytecode();
  return (Class<?>)DEFINE_CLASS.invoke(classLoader,ct.getName(),bytes,0,bytes.length);
}
