{
  if (interceptor == null) {
    Assert.fail("set the interceptor first.");
  }
  if (interceptor instanceof TraceContextSupport) {
    Sampler sampler=mock(Sampler.class);
    when(sampler.isSampling()).thenReturn(true);
    TraceContext traceContext=new MockTraceContextFactory().create();
    ((DefaultTraceContext)traceContext).setSampler(sampler);
    ((TraceContextSupport)interceptor).setTraceContext(traceContext);
  }
  if (interceptor instanceof ByteCodeMethodDescriptorSupport) {
    if (descriptor != null) {
      ((ByteCodeMethodDescriptorSupport)interceptor).setMethodDescriptor(descriptor);
    }
  }
}
