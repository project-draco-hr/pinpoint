{
  sortSpanAlignAnnotation(spanAlignList);
  RecordSet recordSet=new RecordSet();
  SpanBo focusTimeSpanBo=findFocusTimeSpanBo(spanAlignList,focusTimestamp);
  recordSet.setAgentId(focusTimeSpanBo.getAgentId());
  recordSet.setApplicationId(focusTimeSpanBo.getApplicationId());
  String applicationName=getRpcArgument(focusTimeSpanBo);
  recordSet.setApplicationName(applicationName);
  long startTime=getStartTime(spanAlignList);
  recordSet.setStartTime(startTime);
  long endTime=getEndTime(spanAlignList);
  recordSet.setEndTime(endTime);
  List<Record> recordList=populateSpanRecord(spanAlignList);
  long beginTimeStamp=focusTimeSpanBo.getStartTime();
  markFocusRecord(recordList,beginTimeStamp);
  recordSet.setBeginTimestamp(beginTimeStamp);
  recordSet.setRecordList(recordList);
  return recordSet;
}
