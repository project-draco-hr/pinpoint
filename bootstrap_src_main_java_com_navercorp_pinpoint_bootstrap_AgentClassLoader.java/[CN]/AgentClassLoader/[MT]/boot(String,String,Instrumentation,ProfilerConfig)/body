{
  final Class<?> bootStrapClazz=getBootStrapClass();
  agentBootStrap=(Agent)executeTemplate.execute(new Callable<Object>(){
    @Override public Object call() throws Exception {
      try {
        Constructor<?> constructor=bootStrapClazz.getConstructor(String.class,String.class,Instrumentation.class,ProfilerConfig.class);
        return constructor.newInstance(agentPath,agentArgs,instrumentation,profilerConfig);
      }
 catch (      InstantiationException e) {
        throw new BootStrapException("boot create fail. Caused:" + e.getMessage(),e);
      }
catch (      IllegalAccessException e) {
        throw new BootStrapException("boot method invoke fail. Caused:" + e.getMessage(),e);
      }
    }
  }
);
}
