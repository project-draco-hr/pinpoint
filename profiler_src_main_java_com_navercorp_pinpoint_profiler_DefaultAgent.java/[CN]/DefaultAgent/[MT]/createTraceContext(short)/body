{
  final StorageFactory storageFactory=createStorageFactory();
  logger.info("StorageFactoryType:{}",storageFactory);
  final Sampler sampler=createSampler();
  logger.info("SamplerType:{}",sampler);
  final int jdbcSqlCacheSize=profilerConfig.getJdbcSqlCacheSize();
  final DefaultTraceContext traceContext=new DefaultTraceContext(jdbcSqlCacheSize,serverType,storageFactory,sampler);
  traceContext.setAgentInformation(this.agentInformation);
  traceContext.setPriorityDataSender(this.tcpDataSender);
  traceContext.setProfilerConfig(profilerConfig);
  return traceContext;
}
