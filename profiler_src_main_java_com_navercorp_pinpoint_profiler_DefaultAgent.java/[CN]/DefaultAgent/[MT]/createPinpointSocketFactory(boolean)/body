{
  Map<String,Object> properties=this.agentInformation.toMap();
  PinpointSocketFactory pinpointSocketFactory=new PinpointSocketFactory();
  pinpointSocketFactory.setTimeoutMillis(1000 * 5);
  pinpointSocketFactory.setProperties(properties);
  if (isSupportServerMode) {
    CommandDispatcher.Builder builder=new CommandDispatcher.Builder();
    pinpointSocketFactory.setMessageListener(builder.build());
  }
  return pinpointSocketFactory;
}
