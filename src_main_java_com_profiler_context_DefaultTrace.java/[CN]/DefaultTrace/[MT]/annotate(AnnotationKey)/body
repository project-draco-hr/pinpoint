{
  StackFrame currentStackFrame=getCurrentStackFrame();
  if (currentStackFrame instanceof RootStackFrame) {
    Span span=((RootStackFrame)currentStackFrame).getSpan();
    span.addAnnotation(new TraceAnnotation(key));
  }
 else {
    SpanEvent spanEvent=((SubStackFrame)currentStackFrame).getSpanEvent();
    spanEvent.addAnnotation(new TraceAnnotation(key));
  }
}
