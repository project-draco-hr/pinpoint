{
  if (null == uri) {
    return 0;
  }
  String responseBody=null;
  HttpClient httpClient=null;
  try {
    HttpPost post=new HttpPost(uri);
    post.setEntity(getEntity(paramMap));
    post.setParams(getHttpParams());
    post.addHeader("Content-Type","application/json;charset=UTF-8");
    ResponseHandler<String> responseHandler=new BasicResponseHandler();
    httpClient=getHttpClient(getHttpParams());
    responseBody=httpClient.execute(post,responseHandler);
    return Integer.parseInt(responseBody);
  }
 catch (  Exception e) {
    e.printStackTrace();
    return 0;
  }
 finally {
    if (null != httpClient && null != httpClient.getConnectionManager()) {
      httpClient.getConnectionManager().shutdown();
    }
  }
}
