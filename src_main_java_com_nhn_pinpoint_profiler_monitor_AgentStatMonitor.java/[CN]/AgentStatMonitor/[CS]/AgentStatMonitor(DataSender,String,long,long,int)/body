{
  if (dataSender == null) {
    throw new NullPointerException("dataSender must not be null");
  }
  if (agentId == null) {
    throw new NullPointerException("agentId must not be null");
  }
  this.dataSender=dataSender;
  this.agentId=agentId;
  this.agentStartTime=startTime;
  this.collectionIntervalMs=collectionInterval;
  this.numCollectionsPerBatch=numCollectionsPerBatch;
  this.agentStatCollectorFactory=createAgentStatCollectorFactory();
  this.garbageCollector=agentStatCollectorFactory.getGarbageCollector();
  this.cpuLoadCollector=agentStatCollectorFactory.getCpuLoadCollector();
  if (logger.isInfoEnabled()) {
    logger.info("found : {}",this.garbageCollector);
  }
}
